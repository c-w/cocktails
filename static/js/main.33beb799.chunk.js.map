{"version":3,"sources":["components/PaginatedCardGroup.js","components/SearchBar.js","utils/MultiMap.js","i8n/en.js","i8n/index.js","components/AverageRatingsDisplay.js","utils/hashCode.js","utils/mean.js","views/BottlesView.js","views/BrandsView.js","components/CheckBoxList.js","components/MultiLineText.js","components/RadioList.js","components/StarRating.js","workers/WebWorker.js","workers/recipesWorker.js","utils/cache.js","views/RecipesView.js","views/SpiritsView.js","utils/fetchJson.js","App.js","serviceWorker.js","index.js"],"names":["PaginatedCardGroup","props","onPageChange","event","activePage","setState","state","this","items","itemsPerPage","className","totalPages","Math","ceil","length","pageStart","pageEnd","itemsOnPage","slice","Card","Group","Pagination","prevItem","nextItem","firstItem","lastItem","React","PureComponent","ON_CHANGE_DEBOUNCE_MS","SearchBar","onChange","value","_onChange","defaultValue","debounce","placeholder","Input","icon","Component","MultiMap","_map","key","item","push","func","Object","entries","map","en","recipesCacheWarning","recipesLoadError","recipesSearchPlaceholder","recipesSortByDate","recipesSortByRating","meanRatingSupport","meanRatingValue","brandsSearchPlaceholder","spiritsSearchPlaceholder","bottlesSpiritSelectPlaceholder","bottlesSpiritAllEntries","menuEntryRecipes","menuEntrySpirits","menuEntryBrands","menuEntryBottles","colors","toMeanCard","name","mean","support","color","abs","str","hash","i","charCodeAt","hashCode","randomColor","header","description","to","Statistic","label","i8n","toFixed","AverageRatingsDisplay","onSearchTextChange","filterText","query","aggregations","recipes","ratingsPerPage","searchPlaceholder","ratingsFilter","startsWith","maxSupport","parseInt","substr","minSupport","searchTerms","toLowerCase","split","searchTerm","trim","some","indexOf","buildRatingsFilter","meanRatings","aggregationToRatings","forEach","aggregation","filter","recipe","Ingredients","add","Rating","numbers","ratings","reduce","prev","cur","sum","sort","a","b","sign","toMean","matcherFor","spirits","RegExp","Array","from","join","getBottlesForSpirit","spirit","spiritMatcher","bottles","Set","ingredient","match","replace","bottle","BottlesView","onSpiritChange","selectedSpirit","words","SpiritsSelector","e","allOption","text","spiritOptions","options","concat","Dropdown","search","selection","TopBottlesDisplay","BrandsView","brands","CheckBoxList","onToggle","List","horizontal","Item","Checkbox","checked","MultilineText","lines","line","pop","textToLines","RadioList","Radio","StarRating","rating","defaultRating","maxRating","disabled","WebWorker","worker","code","toString","blob","Blob","Worker","URL","createObjectURL","hasAny","token","word","getFilterTerms","numFilters","combineWords","combined","recipeWords","ingredients","blacklist","sentence","combinedWords","regexp","combineTokens","quantity","ignored","iterable","_counter","counter","buildCounter","mostCommon","num","pair","Counter","term","enabled","self","addEventListener","filterTerms","data","postMessage","RECIPES_CACHE_KEY","FILTERTERMS_CACHE_KEY","FILTERTERMS_IS_DIRTY","IS_DIRTY","NOT_DIRTY","loadRecipesData","cached","localStorage","getItem","JSON","parse","splitTokens","hasAllFilterTerms","searchCorpus","filterTerm","every","searchValue","hasFilterText","Name","partition","excludeTerms","includeTerm","excludeTerm","substring","sortOrders","comparator","recipeA","recipeB","recipeToCard","meta","filterToCheckbox","RecipesView","onSearchTermToggle","newFilterTerms","newFilterText","onSortOrderChange","sortOrder","shouldShowRecipe","order","loadFilterTerms","recipesWorker","setItem","stringify","storeFilterTerms","recipesPerPage","displayableRecipes","SpiritsView","checkStatus","response","status","error","Error","statusText","parseJSON","json","fetchJson","url","fetch","then","App","onRecipesLoaded","cacheDate","onStaleDataWarningDismiss","renderIndex","renderRecipes","params","pageSize","renderSpirits","renderBrands","renderBottles","renderStaleDataWarning","Message","warning","floating","onDismiss","Icon","Content","Header","renderNav","location","pathname","Menu","size","fixed","as","Link","active","recipesUrl","wordsUrl","Promise","all","newData","oldData","Date","storeRecipesData","catch","Container","content","path","component","exact","render","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","process","document","getElementById","href","origin","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.33beb799.chunk.js","sourcesContent":["import React from 'react';\nimport Card from 'semantic-ui-react/dist/es/views/Card/Card';\nimport Pagination from 'semantic-ui-react/dist/es/addons/Pagination/Pagination';\n\nexport default class PaginatedCardGroup extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePage: 1\n    };\n  }\n\n  onPageChange = (event, props) => {\n    const { activePage } = props;\n    this.setState({ activePage });\n  }\n\n  render() {\n    const { activePage } = this.state;\n    const { items, itemsPerPage, className } = this.props;\n\n    const totalPages = Math.ceil(items.length / itemsPerPage);\n    const pageStart = (activePage - 1) * itemsPerPage;\n    const pageEnd = pageStart + itemsPerPage;\n    const itemsOnPage = items.slice(pageStart, pageEnd);\n\n    return (\n      <div className={className}>\n        <div className=\"group\">\n          <Card.Group items={itemsOnPage} />\n        </div>\n        <div className=\"pagination\">\n          <Pagination\n            prevItem={null}\n            nextItem={null}\n            firstItem={null}\n            lastItem={null}\n            activePage={activePage}\n            onPageChange={this.onPageChange}\n            totalPages={totalPages}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Input from 'semantic-ui-react/dist/es/elements/Input/Input';\nimport debounce from 'lodash/debounce';\n\nconst ON_CHANGE_DEBOUNCE_MS = 250;\n\nexport default class SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: props.defaultValue,\n    };\n\n    this._onChange = debounce(props.onChange, ON_CHANGE_DEBOUNCE_MS);\n  }\n\n  onChange = (event, props) => {\n    const { value } = props;\n\n    this.setState({ value }, () => this._onChange(value));\n  }\n\n  render() {\n    const { placeholder, className } = this.props;\n    const { value } = this.state;\n\n    return (\n      <div className={className}>\n        <Input\n          icon=\"search\"\n          value={value}\n          placeholder={placeholder}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n","export default class MultiMap {\n  constructor() {\n    this._map = {};\n  }\n\n  add(key, item) {\n    if (!this._map[key]) this._map[key] = [];\n    this._map[key].push(item);\n  }\n\n  get(key) {\n    return this._map[key] || [];\n  }\n\n  map(func) {\n    return Object.entries(this._map).map(func);\n  }\n}\n","export default {\n  recipesCacheWarning: 'Using cached recipes, last updated:',\n  recipesLoadError: 'Something went wrong while loading the recipes',\n  recipesSearchPlaceholder: 'Search for recipes...',\n  recipesSortByDate: 'Sort by date',\n  recipesSortByRating: 'Sort by rating',\n  meanRatingSupport: 'Cocktails',\n  meanRatingValue: 'Avg Rating',\n  brandsSearchPlaceholder: 'Search for brands...',\n  spiritsSearchPlaceholder: 'Search for spirits...',\n  bottlesSpiritSelectPlaceholder: 'Select spirit...',\n  bottlesSpiritAllEntries: '(All)',\n  menuEntryRecipes: 'Recipes',\n  menuEntrySpirits: 'Top Spirits',\n  menuEntryBrands: 'Top brands',\n  menuEntryBottles: 'Top bottles',\n};\n","import en from './en';\n\nexport default en;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Statistic from 'semantic-ui-react/dist/es/views/Statistic/Statistic';\nimport PaginatedCardGroup from './PaginatedCardGroup';\nimport SearchBar from './SearchBar';\nimport MultiMap from '../utils/MultiMap';\nimport mean from '../utils/mean';\nimport hashCode from '../utils/hashCode';\nimport i8n from '../i8n';\n\nconst colors = ['orange', 'yellow', 'olive', 'green', 'teal', 'blue', 'violet', 'purple', 'pink', 'brown'];\n\nconst randomColor = (name) => colors[Math.abs(hashCode(name)) % colors.length];\n\nconst toMeanCard = ({ name, mean, support }) => {\n  const color = randomColor(name);\n\n  return {\n    key: name,\n    header: name,\n    color,\n    description:\n      <Link to={`/recipes/${name}`}>\n        <Statistic.Group>\n          <Statistic label={i8n.meanRatingSupport} value={support} color={color} />\n          <Statistic label={i8n.meanRatingValue} value={mean.toFixed(2)} color={color} />\n        </Statistic.Group>\n      </Link>\n  };\n}\n\nconst toMean = (recipes, aggregations) => {\n  const aggregationToRatings = new MultiMap();\n  aggregations.forEach(aggregation =>\n    recipes.filter(recipe => recipe.Ingredients.toLowerCase().indexOf(aggregation.toLowerCase()) !== -1).forEach(recipe =>\n      aggregationToRatings.add(aggregation, recipe.Rating)));\n\n  return aggregationToRatings\n    .map(([name, ratings]) => ({ name, mean: mean(ratings), support: ratings.length }))\n    .sort((a, b) => Math.sign(b.mean - a.mean));\n}\n\nconst buildRatingsFilter = (filterText) => {\n  if (filterText.startsWith('#<')) {\n    const maxSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support < maxSupport;\n  }\n\n  if (filterText.startsWith('#>')) {\n    const minSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support > minSupport;\n  }\n\n  if (filterText.length > 0) {\n    const searchTerms = filterText.toLowerCase().split('||').map(searchTerm => searchTerm.trim());\n    return ({ name }) => searchTerms.some(searchTerm => name.toLowerCase().indexOf(searchTerm) !== -1);\n  }\n\n  return () => true;\n}\n\nexport default class AverageRatingsDisplay extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filterText: props.query || ''\n    };\n  }\n\n  onSearchTextChange = (filterText) => {\n    this.setState({ filterText });\n  }\n\n  render() {\n    const { aggregations, recipes, ratingsPerPage, searchPlaceholder } = this.props;\n    const { filterText } = this.state;\n\n    const ratingsFilter = buildRatingsFilter(filterText);\n    const meanRatings = toMean(recipes, aggregations).filter(ratingsFilter);\n\n    return (\n      <div>\n        <div className=\"brandControls\">\n          {searchPlaceholder &&\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={searchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />}\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={ratingsPerPage}\n          items={meanRatings.map(toMeanCard)}\n          key={meanRatings}\n        />\n      </div>\n    );\n  }\n}\n","export default function hashCode(str) {\n  let hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    let chr = str.charCodeAt(i);\n    hash  = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n\n  return hash;\n}\n","function sum(numbers) {\n  return numbers.reduce((prev, cur) => prev + cur, 0);\n}\n\nexport default function mean(numbers) {\n  return sum(numbers) / numbers.length;\n}\n","import React from 'react';\nimport Dropdown from 'semantic-ui-react/dist/es/modules/Dropdown/Dropdown';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nfunction matcherFor(spirits) {\n  return new RegExp(`\\\\s(${Array.from(spirits).join('|')})(\\\\s|$)`, 'i');\n}\n\nfunction getBottlesForSpirit(spirit, spirits, recipes) {\n  const spiritMatcher = !spirit ? matcherFor(spirits) : matcherFor([spirit]);\n\n  const bottles = new Set();\n\n  recipes.forEach(recipe =>\n    recipe.Ingredients\n      .split('\\n')\n      .filter(ingredient => ingredient.match(spiritMatcher) != null)\n      .map(ingredient => ingredient.replace(/\\([^)]*\\)/g, ''))\n      .map(ingredient => ingredient.replace(/^[^ ]*/, ''))\n      .map(ingredient => ingredient.trim())\n      .forEach(bottle => bottles.add(bottle)));\n\n  return Array.from(bottles).sort();\n}\n\nexport default class BottlesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedSpirit: props.query\n    };\n  }\n\n  onSpiritChange = (selectedSpirit) => this.setState({ selectedSpirit });\n\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n    const { selectedSpirit } = this.state;\n\n    return (\n      <div>\n        <div className=\"bottleControls\">\n          <SpiritsSelector\n            selectedSpirit={selectedSpirit}\n            spirits={words.spirits}\n            onChange={this.onSpiritChange}\n          />\n        </div>\n        <TopBottlesDisplay\n          spirit={selectedSpirit}\n          spirits={words.spirits}\n          recipes={recipes}\n          ratingsPerPage={ratingsPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nclass SpiritsSelector extends React.PureComponent {\n  onChange = (e, { value }) => this.props.onChange(value);\n\n  render() {\n    const { spirits, selectedSpirit } = this.props;\n\n    const allOption = { text: i8n.bottlesSpiritAllEntries, value: '' };\n    const spiritOptions = Array.from(spirits).sort().map(spirit => ({ text: spirit, value: spirit }));\n    const options = [allOption].concat(spiritOptions);\n\n    return (\n      <Dropdown\n        search\n        selection\n        placeholder={i8n.bottlesSpiritSelectPlaceholder}\n        options={options}\n        onChange={this.onChange}\n        defaultValue={selectedSpirit}\n      />\n    );\n  }\n}\n\nclass TopBottlesDisplay extends React.PureComponent {\n  render() {\n    const { spirit, spirits, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={getBottlesForSpirit(spirit, spirits, recipes)}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class BrandsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.brands}\n        searchPlaceholder={i8n.brandsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport Checkbox from 'semantic-ui-react/dist/es/modules/Checkbox/Checkbox';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\n\nexport default class CheckBoxList extends React.PureComponent {\n  onToggle = (event, props) => {\n    this.props.onToggle(props.label);\n  }\n\n  render() {\n    const { items, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.label}>\n              <Checkbox\n                label={item.label}\n                checked={item.checked}\n                onChange={this.onToggle}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst textToLines = (text) => {\n  const lines = [];\n\n  text.split('\\n').forEach((line, i) => {\n    lines.push(<span key={`line-${i}`}>{line}</span>);\n    lines.push(<br key={`newline-${i}`} />);\n  });\n  lines.pop();\n\n  return lines;\n}\n\nexport default class MultilineText extends React.PureComponent {\n  render() {\n    const { text } = this.props;\n\n    return <div>{textToLines(text)}</div>;\n  }\n}\n","import React from 'react';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\nimport Radio from 'semantic-ui-react/dist/es/addons/Radio/Radio';\n\nexport default class RadioList extends React.PureComponent {\n  onChange = (event, props) => {\n    this.props.onChange(props.value);\n  }\n\n  render() {\n    const { items, checked, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.value}>\n              <Radio\n                label={item.label}\n                value={item.value}\n                checked={checked === item.value}\n                onChange={this.onChange}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  };\n}\n","import React from 'react';\nimport Rating from 'semantic-ui-react/dist/es/modules/Rating/Rating';\n\nconst maxRating = 5;\n\nexport default class StarRating extends React.PureComponent {\n  render() {\n    const { rating } = this.props;\n\n    return (\n      <Rating\n        icon='star'\n        defaultRating={rating}\n        maxRating={maxRating}\n        disabled\n      />\n    );\n  }\n}\n","export default class WebWorker {\n  constructor(worker) {\n    const code = worker.toString();\n    const blob = new Blob([`(${code})()`]);\n    return new Worker(URL.createObjectURL(blob));\n  }\n}\n","export default () => {\n  // FIXME: keep in sync with RecipesView.js until es6 imports are supported in web workers\n  const combineTokens = (sentence, combinedWords) => {\n    for (const token of combinedWords) {\n      const regexp = new RegExp(token, 'gi');\n      sentence = sentence.replace(regexp, token.replace(/ /g, '_'));\n    }\n\n    return sentence;\n  };\n\n  // FIXME: keep in sync with RecipesView.js until es6 imports are supported in web workers\n  const splitTokens = (sentence) => sentence.replace(/_/g, ' ');\n\n  const buildCounter = (iterable) => {\n    const counter = {};\n\n    iterable.forEach(item => {\n      if (!counter[item]) {\n        counter[item] = 1;\n      } else {\n        counter[item]++;\n      }\n    });\n\n    return counter;\n  }\n\n  const Counter = (iterable) => {\n    const _counter = buildCounter(iterable);\n\n    return {\n      mostCommon: (num) => {\n        return Object.entries(_counter)\n          .sort((a, b) => b[1] - a[1])\n          .map(pair => pair[0])\n          .slice(0, num);\n      },\n    };\n  }\n\n  const hasAny = (token, words) => {\n    for (const word of words) {\n      if (token.indexOf(word) !== -1) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  const getFilterTerms = ({ recipes, numFilters, words }) => {\n    const combineWords = new Set();\n    for (const word of words.combined) combineWords.add(word);\n    for (const word of words.brands) combineWords.add(word);\n    for (const word of words.spirits) combineWords.add(word);\n\n    const recipeWords = [];\n    recipes\n      .map(recipe => recipe.Ingredients)\n      .forEach(ingredients => {\n        ingredients\n          .split('\\n')\n          .filter(ingredient => !hasAny(ingredient, words.blacklist))\n          .forEach(ingredient => {\n            combineTokens(ingredient, combineWords)\n              .split(' ')\n              .map(word => word.replace(/\\([^)]*\\)/g, ''))\n              .map(word => splitTokens(word))\n              .map(word => word.replace(/[^a-zA-Z ]/g, ''))\n              .filter(word => word.length > 0)\n              .map(word => word.toLowerCase())\n              .filter(word => !hasAny(word, words.quantity))\n              .filter(word => !hasAny(word, words.ignored))\n              .forEach(word => recipeWords.push(word));\n        });\n      });\n\n    return Counter(recipeWords)\n      .mostCommon(numFilters)\n      .map(term => ({ term, enabled: false }));\n  }\n\n  self.addEventListener('message', event => { // eslint-disable-line no-restricted-globals\n    if (!event) {\n      return;\n    }\n\n    const filterTerms = getFilterTerms(event.data);\n\n    postMessage(filterTerms);\n  });\n}\n","const RECIPES_CACHE_KEY = 'recipesCache.recipes';\n\nconst FILTERTERMS_CACHE_KEY = 'recipesCache.filterTerms';\nconst FILTERTERMS_IS_DIRTY = 'recipesCache.filterTerms.dirty';\n\nconst IS_DIRTY = '1';\nconst NOT_DIRTY = '0';\n\nexport function storeFilterTerms(filterTerms) {\n  localStorage.setItem(FILTERTERMS_CACHE_KEY, JSON.stringify(filterTerms));\n  localStorage.setItem(FILTERTERMS_IS_DIRTY, NOT_DIRTY);\n}\n\nexport function loadFilterTerms() {\n  const cached = localStorage.getItem(FILTERTERMS_CACHE_KEY);\n  if (!cached) {\n    return null;\n  }\n\n  const isDirty = localStorage.getItem(FILTERTERMS_IS_DIRTY);\n  if (isDirty === IS_DIRTY) {\n    return null;\n  }\n\n  return JSON.parse(cached);\n}\n\nexport function storeRecipesData(newData) {\n  const oldData = loadRecipesData();\n\n  if (oldData && oldData.recipes.length === newData.recipes.length && oldData.words.length === newData.words.length) {\n    return;\n  }\n\n  localStorage.setItem(RECIPES_CACHE_KEY, JSON.stringify({\n    recipes: newData.recipes,\n    words: newData.words,\n    cacheDate: new Date().toString(),\n  }));\n\n  localStorage.setItem(FILTERTERMS_IS_DIRTY, IS_DIRTY);\n}\n\nexport function loadRecipesData() {\n  const cached = localStorage.getItem(RECIPES_CACHE_KEY);\n  if (!cached) {\n    return null;\n  }\n\n  return JSON.parse(cached);\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport partition from 'lodash/partition';\nimport CheckBoxList from '../components/CheckBoxList';\nimport MultilineText from '../components/MultiLineText';\nimport PaginatedCardGroup from '../components/PaginatedCardGroup';\nimport RadioList from '../components/RadioList';\nimport SearchBar from '../components/SearchBar';\nimport StarRating from '../components/StarRating';\nimport WebWorker from '../workers/WebWorker';\nimport recipesWorker from '../workers/recipesWorker';\nimport { loadFilterTerms, storeFilterTerms } from '../utils/cache';\nimport i8n from '../i8n';\n\n// FIXME: keep in sync with recipesWorker.js until es6 imports are supported in web workers\nconst combineTokens = (sentence, combinedWords) => {\n  for (const token of combinedWords) {\n    const regexp = new RegExp(token, 'gi');\n    sentence = sentence.replace(regexp, token.replace(/ /g, '_'));\n  }\n\n  return sentence;\n};\n\n// FIXME: keep in sync with recipesWorker.js until es6 imports are supported in web workers\nconst splitTokens = (sentence) => sentence.replace(/_/g, ' ');\n\nconst hasAllFilterTerms = (recipe, filterTerms) => {\n  if (!filterTerms.length) {\n    return true;\n  }\n\n  const searchCorpus = splitTokens(recipe.Ingredients).toLowerCase();\n\n  return filterTerms\n    .filter(filterTerm => filterTerm.enabled)\n    .map(filterTerm => filterTerm.term.toLowerCase())\n    .every(searchValue => searchCorpus.indexOf(searchValue) !== -1);\n}\n\nconst hasFilterText = (recipe, filterText, words) => {\n  if (!filterText) {\n    return true;\n  }\n\n  const searchCorpus = combineTokens(`${recipe.Name}\\n${recipe.Ingredients}`.toLowerCase(), words.combined);\n\n  const searchTerms = filterText\n    .split('&&')\n    .map(searchTerm => searchTerm.trim())\n    .map(searchTerm => searchTerm.toLowerCase());\n\n  const [ excludeTerms, includeTerms ] = partition(searchTerms, searchTerm => searchTerm.startsWith('!'));\n\n  return includeTerms.every(includeTerm => searchCorpus.indexOf(includeTerm) !== -1)\n      && excludeTerms.every(excludeTerm => searchCorpus.indexOf(excludeTerm.substring(1)) === -1);\n};\n\nconst sortOrders = [\n  {label: i8n.recipesSortByDate, value: \"date\"},\n  {label: i8n.recipesSortByRating, value: \"rating\", comparator: (recipeA, recipeB) => recipeB.Rating - recipeA.Rating},\n];\n\nconst recipeToCard = (recipe, i) => ({\n  key: `recipe-${i}-${recipe.Name}-${recipe.Ingredients}`,\n  header: recipe.Name,\n  description:\n    <Link to={`/recipes/${recipe.Name}`}>\n      <MultilineText text={splitTokens(recipe.Ingredients)} />\n    </Link>,\n  meta: <StarRating rating={recipe.Rating} />\n});\n\nconst filterToCheckbox = (filter) => ({\n  label: filter.term,\n  checked: filter.enabled\n});\n\nexport default class RecipesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortOrder: 'date',\n      filterText: props.query || '',\n      filterTerms: [],\n    };\n  }\n\n  onSearchTermToggle = (filterTerm) => {\n    const { filterTerms } = this.state;\n\n    const newFilterTerms = filterTerms\n      .map(({ term, enabled }) => term === filterTerm\n        ? ({ term, enabled: !enabled })\n        : ({ term, enabled }));\n\n    this.setState({ filterTerms: newFilterTerms });\n  }\n\n  onSearchTextChange = (filterText) => {\n    const { words } = this.props;\n\n    const newFilterText = combineTokens(filterText, words.combined);\n    this.setState({ filterText: newFilterText });\n  }\n\n  onSortOrderChange = (sortOrder) => {\n    this.setState({ sortOrder });\n  }\n\n  shouldShowRecipe = (recipe) => {\n    const { filterTerms, filterText } = this.state;\n    const { words } = this.props;\n\n    return hasAllFilterTerms(recipe, filterTerms) &&\n      hasFilterText(recipe, filterText, words);\n  }\n\n  sort = (recipes) => {\n    const { sortOrder } = this.state;\n\n    const comparator = sortOrders\n      .filter(order => order.value === sortOrder)\n      .map(order => order.comparator)[0];\n\n    if (comparator) {\n      recipes = recipes.sort(comparator);\n    }\n\n    return recipes;\n  }\n\n  componentDidMount() {\n    const filterTerms = loadFilterTerms();\n    if (filterTerms) {\n      this.setState({ filterTerms });\n      return;\n    }\n\n    const worker = new WebWorker(recipesWorker);\n    worker.postMessage(this.props);\n\n    worker.addEventListener('message', event => {\n      const filterTerms = event.data;\n      storeFilterTerms(filterTerms);\n      this.setState({ filterTerms });\n    });\n  }\n\n  render() {\n    const { recipes, recipesPerPage } = this.props;\n    const { filterTerms, filterText, sortOrder } = this.state;\n\n    const displayableRecipes = this.sort(recipes.filter(this.shouldShowRecipe));\n\n    return (\n      <div>\n        <div className=\"recipeControls\">\n          <CheckBoxList\n            className=\"filters\"\n            items={filterTerms.map(filterToCheckbox)}\n            onToggle={this.onSearchTermToggle}\n          />\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={i8n.recipesSearchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />\n          <RadioList\n            className=\"sortOrder\"\n            items={sortOrders}\n            checked={sortOrder}\n            onChange={this.onSortOrderChange}\n          />\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={recipesPerPage}\n          items={displayableRecipes.map(recipeToCard)}\n          key={displayableRecipes}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class SpiritsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.spirits}\n        searchPlaceholder={i8n.spiritsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json()\n}\n\nexport default function fetchJson(url) {\n  return fetch(url)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","import React from 'react';\nimport { HashRouter, Link, Redirect, Route, Switch } from 'react-router-dom';\nimport Container from 'semantic-ui-react/dist/es/elements/Container/Container';\nimport Icon from 'semantic-ui-react/dist/es/elements/Icon/Icon';\nimport Menu from 'semantic-ui-react/dist/es/collections/Menu/Menu';\nimport Message from 'semantic-ui-react/dist/es/collections/Message/Message';\nimport BottlesView from './views/BottlesView';\nimport BrandsView from './views/BrandsView';\nimport RecipesView from './views/RecipesView';\nimport SpiritsView from './views/SpiritsView';\nimport { storeRecipesData, loadRecipesData } from './utils/cache';\nimport fetchJson from './utils/fetchJson';\nimport i8n from './i8n';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      recipes: [],\n      words: {},\n      cacheDate: '',\n    };\n  }\n\n  componentDidMount() {\n    const { recipesUrl, wordsUrl } = this.props;\n\n    Promise.all([fetchJson(recipesUrl), fetchJson(wordsUrl)])\n      .then(([recipes, words]) => {\n        this.onRecipesLoaded({ recipes, words });\n        storeRecipesData({ recipes, words });\n      })\n      .catch(error => {\n        const cached = loadRecipesData();\n        if (!cached) {\n          this.setState({ error });\n          return;\n        }\n\n        const { recipes, words, cacheDate } = cached;\n        this.onRecipesLoaded({ recipes, words }, cacheDate);\n      });\n  }\n\n  onRecipesLoaded = ({ recipes, words }, cacheDate) => {\n    this.setState({\n      recipes,\n      words: {\n        combined: new Set(words.combined || []),\n        blacklist: new Set(words.blacklist || []),\n        quantity: new Set(words.quantity || []),\n        brands: new Set(words.brands || []),\n        ignored: new Set(words.ignored || []),\n        spirits: new Set(words.spirits || []),\n      },\n      cacheDate,\n    });\n  }\n\n  onStaleDataWarningDismiss = () => {\n    this.setState({ cacheDate: '' });\n  }\n\n  renderIndex = (props) =>\n    <Redirect to=\"/recipes\" />\n\n  renderRecipes = (props) =>\n    <RecipesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      recipesPerPage={this.props.pageSize}\n      numFilters={this.props.numFilters}\n      key={props.match.params.query}\n    />\n\n  renderSpirits = (props) =>\n    <SpiritsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBrands = (props) =>\n    <BrandsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBottles = (props) =>\n    <BottlesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderStaleDataWarning = (props) => {\n    const { cacheDate } = props;\n    if (!cacheDate) {\n      return null;\n    }\n\n    return (\n      <Message warning floating icon onDismiss={this.onStaleDataWarningDismiss} className=\"messageTop\">\n        <Icon name=\"plug\" />\n        <Message.Content>\n          <Message.Header>{i8n.recipesLoadError}</Message.Header>\n          {i8n.recipesCacheWarning} {cacheDate}\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  renderNav = (props) => {\n    const location = props.location.pathname;\n\n    return (\n      <Menu icon=\"labeled\" size=\"mini\" fixed=\"bottom\">\n        <Menu.Item as={Link} to=\"/recipes\" active={location.startsWith('/recipes')}>\n          <Icon name=\"cocktail\" />\n          {i8n.menuEntryRecipes}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/spirits\" active={location.startsWith('/spirits')}>\n          <Icon name=\"bar chart\" />\n          {i8n.menuEntrySpirits}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/brands\" active={location.startsWith('/brands')}>\n          <Icon name=\"line chart\" />\n          {i8n.menuEntryBrands}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/bottles\" active={location.startsWith('/bottles')}>\n          <Icon name=\"winner\" />\n          {i8n.menuEntryBottles}\n        </Menu.Item>\n      </Menu>\n    );\n  }\n\n  render() {\n    const { error, recipes, cacheDate } = this.state;\n\n    if (error) {\n      return (\n        <Container>\n          <Message error content={i8n.recipesLoadError} className=\"messageTop\" />\n        </Container>\n      );\n    }\n\n    if (recipes.length === 0) {\n      return null;\n    }\n\n    return (\n      <HashRouter>\n        <Container>\n          {this.renderStaleDataWarning({ cacheDate })}\n          <Route path=\"*\" component={this.renderNav} />\n          <Switch>\n            <Route exact path=\"/\" component={this.renderIndex} />\n            <Route exact path=\"/recipes/:query?\" render={this.renderRecipes} />\n            <Route exact path=\"/spirits/:query?\" render={this.renderSpirits} />\n            <Route exact path=\"/brands/:query?\" render={this.renderBrands} />\n            <Route exact path=\"/bottles/:query?\" render={this.renderBottles} />\n          </Switch>\n        </Container>\n      </HashRouter>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App\n    recipesUrl={process.env.REACT_APP_RECIPES_URL}\n    wordsUrl={process.env.REACT_APP_WORDS_URL}\n    pageSize={parseInt(process.env.REACT_APP_PAGE_SIZE, 10)}\n    numFilters={parseInt(process.env.REACT_APP_NUM_FILTERS, 10)}\n  />,\n  document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}