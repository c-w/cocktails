{"version":3,"sources":["components/PaginatedCardGroup.js","components/SearchBar.js","utils/MultiMap.js","i8n/en.js","i8n/index.js","components/AverageRatingsDisplay.js","utils/hashCode.js","utils/mean.js","views/BottlesView.js","views/BrandsView.js","components/CheckBoxList.js","components/MultiLineText.js","components/RadioList.js","components/StarRating.js","utils/Counter.js","utils/cache.js","views/RecipesView.js","views/SpiritsView.js","utils/fetchJson.js","App.js","index.js"],"names":["PaginatedCardGroup","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onPageChange","event","activePage","setState","state","_this$props","items","itemsPerPage","className","totalPages","Math","ceil","length","pageStart","pageEnd","itemsOnPage","slice","react_default","a","createElement","Card","Group","Pagination","prevItem","nextItem","firstItem","lastItem","React","PureComponent","SearchBar","onChange","value","placeholder","defaultValue","Input","icon","Component","MultiMap","_map","key","item","push","func","entries","map","en","recipesCacheWarning","recipesLoadError","recipesSearchPlaceholder","recipesSortByDate","recipesSortByRating","meanRatingSupport","meanRatingValue","brandsSearchPlaceholder","spiritsSearchPlaceholder","bottlesSpiritSelectPlaceholder","menuEntryRecipes","menuEntrySpirits","menuEntryBrands","menuEntryBottles","colors","toMeanCard","_ref","name","mean","support","color","abs","str","hash","i","charCodeAt","hashCode","randomColor","header","description","Link_default","to","concat","Statistic","label","i8n","toFixed","AverageRatingsDisplay","onSearchTextChange","filterText","query","aggregations","recipes","ratingsPerPage","searchPlaceholder","ratingsFilter","startsWith","maxSupport","parseInt","substr","_ref4","minSupport","_ref5","searchTerms","toLowerCase","split","searchTerm","trim","_ref6","some","indexOf","buildRatingsFilter","meanRatings","aggregationToRatings","forEach","aggregation","filter","recipe","Ingredients","add","Rating","_ref2","numbers","_ref3","slicedToArray","ratings","reduce","prev","cur","sum","sort","b","sign","toMean","SearchBar_SearchBar","PaginatedCardGroup_PaginatedCardGroup","BottlesView","onSpiritChange","selectedSpirit","words","BottlesView_SpiritsSelector","spirits","BottlesView_TopBottlesDisplay","spirit","SpiritsSelector","e","_this2","_this$props2","options","Array","from","text","Dropdown","search","selection","TopBottlesDisplay","_this$props3","AverageRatingsDisplay_AverageRatingsDisplay","spiritMatcher","RegExp","bottles","Set","ingredient","match","replace","bottle","getBottlesForSpirit","BrandsView","brands","CheckBoxList","onToggle","List","horizontal","Item","Checkbox","checked","MultilineText","lines","line","pop","textToLines","RadioList","Radio","StarRating","rating","defaultRating","maxRating","disabled","buildCounter","iterable","counter","Counter","_counter","num","countA","CACHE_KEY","decorated","funcName","combineTokens","sentence","combinedWords","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","token","regexp","err","return","splitTokens","hasAny","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","word","getFilterTerms","numFilters","combineWords","toConsumableArray","combined","recipeWords","ingredients","blacklist","quantity","ignored","mostCommon","term","enabled","args","cacheKey","cached","localStorage","getItem","JSON","parse","setItem","stringify","hasAllFilterTerms","filterTerms","searchCorpus","filterTerm","every","searchValue","hasFilterText","Name","sortOrders","comparator","recipeA","recipeB","recipeToCard","MultiLineText_MultilineText","meta","StarRating_StarRating","filterToCheckbox","RecipesView","onSearchTermToggle","newFilterTerms","newFilterText","onSortOrderChange","sortOrder","shouldShowRecipe","_this$state","order","recipesPerPage","_this$state2","displayableRecipes","CheckBoxList_CheckBoxList","RadioList_RadioList","SpiritsView","checkStatus","response","status","error","Error","statusText","parseJSON","json","fetchJson","url","fetch","then","App","onRecipesLoaded","cacheDate","onStaleDataWarningDismiss","renderIndex","Redirect_default","renderRecipes","RecipesView_RecipesView","params","pageSize","renderSpirits","SpiritsView_SpiritsView","renderBrands","BrandsView_BrandsView","renderBottles","BottlesView_BottlesView","renderStaleDataWarning","Message","warning","floating","onDismiss","Icon","Content","Header","renderNav","location","pathname","Menu","size","fixed","as","Link","active","recipesUrl","wordsUrl","Promise","all","window","Date","toString","storeRecipesData","catch","loadRecipesData","Container","content","HashRouter_default","Route_default","path","component","Switch_default","exact","render","ReactDOM","App_App","process","document","getElementById"],"mappings":"+YAIqBA,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAORQ,aAAe,SAACC,EAAOT,GAAU,IACvBU,EAAeV,EAAfU,WACRT,EAAKU,SAAS,CAAED,gBAPhBT,EAAKW,MAAQ,CACXF,WAAY,GAJGT,2FAcjBG,KAAKO,SAAS,CAAED,WAAY,qCAGrB,IACCA,EAAeN,KAAKQ,MAApBF,WADDG,EAEoCT,KAAKJ,MAAxCc,EAFDD,EAECC,MAAOC,EAFRF,EAEQE,aAAcC,EAFtBH,EAEsBG,UAEvBC,EAAaC,KAAKC,KAAKL,EAAMM,OAASL,GACtCM,GAAaX,EAAa,GAAKK,EAC/BO,EAAUD,EAAYN,EACtBQ,EAAcT,EAAMU,MAAMH,EAAWC,GAE3C,OACEG,EAAAC,EAAAC,cAAA,OAAKX,UAAWA,GACdS,EAAAC,EAAAC,cAAA,OAAKX,UAAU,SACbS,EAAAC,EAAAC,cAACC,EAAA,EAAKC,MAAN,CAAYf,MAAOS,KAErBE,EAAAC,EAAAC,cAAA,OAAKX,UAAU,cACbS,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACEC,SAAU,KACVC,SAAU,KACVC,UAAW,KACXC,SAAU,KACVxB,WAAYA,EACZF,aAAcJ,KAAKI,aACnBS,WAAYA,aAxCwBkB,IAAMC,wBCDjCC,6MACnBC,SAAW,SAAC7B,EAAOT,GACjBC,EAAKD,MAAMsC,SAAStC,EAAMuC,gFAGnB,IAAA1B,EAC0CT,KAAKJ,MAA9CwC,EADD3B,EACC2B,YAAaC,EADd5B,EACc4B,aAAczB,EAD5BH,EAC4BG,UAEnC,OACES,EAAAC,EAAAC,cAAA,OAAKX,UAAWA,GACdS,EAAAC,EAAAC,cAACe,EAAA,EAAD,CACEC,KAAK,SACLF,aAAcA,EACdD,YAAaA,EACbF,SAAUlC,KAAKkC,mBAdcH,IAAMS,WCHxBC,aACnB,SAAAA,IAAe3C,OAAAC,EAAA,EAAAD,CAAAE,KAAAyC,GACbzC,KAAK0C,KAAO,mDAGVC,EAAKC,GACF5C,KAAK0C,KAAKC,KAAM3C,KAAK0C,KAAKC,GAAO,IACtC3C,KAAK0C,KAAKC,GAAKE,KAAKD,+BAGlBD,GACF,OAAO3C,KAAK0C,KAAKC,IAAQ,+BAGvBG,GACF,OAAOhD,OAAOiD,QAAQ/C,KAAK0C,MAAMM,IAAIF,YCf1B,ICEAG,EDFA,CACbC,oBAAqB,sCACrBC,iBAAkB,iDAClBC,yBAA0B,wBAC1BC,kBAAmB,eACnBC,oBAAqB,iBACrBC,kBAAmB,YACnBC,gBAAiB,aACjBC,wBAAyB,uBACzBC,yBAA0B,wBAC1BC,+BAAgC,mBAChCC,iBAAkB,UAClBC,iBAAkB,cAClBC,gBAAiB,aACjBC,iBAAkB,eEJdC,EAAS,CAAC,SAAU,SAAU,QAAS,QAAS,OAAQ,OAAQ,SAAU,SAAU,OAAQ,SAI5FC,EAAa,SAAAC,GAA6B,IAA1BC,EAA0BD,EAA1BC,KAAMC,EAAoBF,EAApBE,KAAMC,EAAcH,EAAdG,QAC1BC,EAHY,SAACH,GAAD,OAAUH,EAAOlD,KAAKyD,ICZ3B,SAAkBC,GAC/B,IAAIC,EAAO,EAEX,GAAmB,IAAfD,EAAIxD,OACN,OAAOyD,EAGT,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAIxD,OAAQ0D,IAE9BD,GAAUA,GAAQ,GAAKA,EADbD,EAAIG,WAAWD,GAEzBD,GAAQ,EAGV,OAAOA,EDDqCG,CAAST,IAASH,EAAOhD,QAGvD6D,CAAYV,GAE1B,MAAO,CACLxB,IAAKwB,EACLW,OAAQX,EACRG,QACAS,YACE1D,EAAAC,EAAAC,cAACyD,EAAA1D,EAAD,CAAM2D,GAAE,YAAAC,OAAcf,IACpB9C,EAAAC,EAAAC,cAAC4D,EAAA,EAAU1D,MAAX,KACEJ,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAWC,MAAOC,EAAI9B,kBAAmBpB,MAAOkC,EAASC,MAAOA,IAChEjD,EAAAC,EAAAC,cAAC4D,EAAA,EAAD,CAAWC,MAAOC,EAAI7B,gBAAiBrB,MAAOiC,EAAKkB,QAAQ,GAAIhB,MAAOA,QAoC3DiB,cACnB,SAAAA,EAAY3F,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,IACjB1F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyF,GAAApF,KAAAH,KAAMJ,KAOR4F,mBAAqB,SAACC,GACpB5F,EAAKU,SAAS,CAAEkF,gBANhB5F,EAAKW,MAAQ,CACXiF,WAAY7F,EAAM8F,OAAS,IAJZ7F,wEAYV,IAAAY,EAC8DT,KAAKJ,MAAlE+F,EADDlF,EACCkF,aAAcC,EADfnF,EACemF,QAASC,EADxBpF,EACwBoF,eAAgBC,EADxCrF,EACwCqF,kBACvCL,EAAezF,KAAKQ,MAApBiF,WAEFM,EApCiB,SAACN,GAC1B,GAAIA,EAAWO,WAAW,MAAO,CAC/B,IAAMC,EAAaC,SAAST,EAAWU,OAAO,GAAI,IAClD,OAAO,SAAAC,GAAA,OAAAA,EAAG/B,QAAwB4B,GAGpC,GAAIR,EAAWO,WAAW,MAAO,CAC/B,IAAMK,EAAaH,SAAST,EAAWU,OAAO,GAAI,IAClD,OAAO,SAAAG,GAAA,OAAAA,EAAGjC,QAAwBgC,GAGpC,GAAIZ,EAAWzE,OAAS,EAAG,CACzB,IAAMuF,EAAcd,EAAWe,cAAcC,MAAM,MAAMzD,IAAI,SAAA0D,GAAU,OAAIA,EAAWC,SACtF,OAAO,SAAAC,GAAA,IAAGzC,EAAHyC,EAAGzC,KAAH,OAAcoC,EAAYM,KAAK,SAAAH,GAAU,OAAgD,IAA5CvC,EAAKqC,cAAcM,QAAQJ,MAGjF,OAAO,kBAAM,GAoBWK,CAAmBtB,GACnCuB,EAhDK,SAACpB,EAASD,GACvB,IAAMsB,EAAuB,IAAIxE,EAKjC,OAJAkD,EAAauB,QAAQ,SAAAC,GAAW,OAC9BvB,EAAQwB,OAAO,SAAAC,GAAM,OAA6E,IAAzEA,EAAOC,YAAYd,cAAcM,QAAQK,EAAYX,iBAAuBU,QAAQ,SAAAG,GAAM,OACjHJ,EAAqBM,IAAIJ,EAAaE,EAAOG,YAE1CP,EACJjE,IAAI,SAAAyE,GAAA,IElCoBC,EFkCpBC,EAAA7H,OAAA8H,EAAA,EAAA9H,CAAA2H,EAAA,GAAEtD,EAAFwD,EAAA,GAAQE,EAARF,EAAA,SAAsB,CAAExD,OAAMC,MElCVsD,EFkCqBG,EEtClD,SAAaH,GACX,OAAOA,EAAQI,OAAO,SAACC,EAAMC,GAAP,OAAeD,EAAOC,GAAK,GAI1CC,CAAIP,GAAWA,EAAQ1G,QFiC4BqD,QAASwD,EAAQ7G,UACxEkH,KAAK,SAAC5G,EAAG6G,GAAJ,OAAUrH,KAAKsH,KAAKD,EAAE/D,KAAO9C,EAAE8C,QAwCjBiE,CAAOzC,EAASD,GAAcyB,OAAOrB,GAEzD,OACE1E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKX,UAAU,iBACZkF,GACDzE,EAAAC,EAAAC,cAAC+G,EAAD,CACE1H,UAAU,YACVyB,aAAcoD,EACdrD,YAAa0D,EACb5D,SAAUlC,KAAKwF,sBAGnBnE,EAAAC,EAAAC,cAACgH,EAAD,CACE3H,UAAU,qBACVD,aAAckF,EACdnF,MAAOsG,EAAYhE,IAAIiB,aAlCkBlC,IAAMC,mBGvCpCwG,cACnB,SAAAA,EAAY5I,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwI,IACjB3I,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0I,GAAArI,KAAAH,KAAMJ,KAOR6I,eAAiB,SAACC,GAAD,OAAoB7I,EAAKU,SAAS,CAAEmI,oBALnD7I,EAAKW,MAAQ,CACXkI,eAAgB9I,EAAM8F,OAJP7F,wEAUV,IAAAY,EACoCT,KAAKJ,MAAxC+I,EADDlI,EACCkI,MAAO/C,EADRnF,EACQmF,QAASC,EADjBpF,EACiBoF,eAChB6C,EAAmB1I,KAAKQ,MAAxBkI,eAER,OACErH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKX,UAAU,kBACbS,EAAAC,EAAAC,cAACqH,EAAD,CACEF,eAAgBA,EAChBG,QAASF,EAAME,QACf3G,SAAUlC,KAAKyI,kBAGnBpH,EAAAC,EAAAC,cAACuH,EAAD,CACEC,OAAQL,EACR9C,QAASA,EACTC,eAAgBA,YA3Be9D,IAAMC,eAkCzCgH,6MACJ9G,SAAW,SAAC+G,EAAD/E,GAAA,IAAM/B,EAAN+B,EAAM/B,MAAN,OAAkB+G,EAAKtJ,MAAMsC,SAASC,4EAExC,IAAAgH,EAC6BnJ,KAAKJ,MAAjCiJ,EADDM,EACCN,QAASH,EADVS,EACUT,eAEXU,EAAUC,MAAMC,KAAKT,GAASX,OAAOlF,IAAI,SAAA+F,GAAM,MAAK,CAAEQ,KAAMR,EAAQ5G,MAAO4G,KAEjF,OACE1H,EAAAC,EAAAC,cAACiI,EAAA,EAAD,CACEC,QAAM,EACNC,WAAS,EACTtH,YAAaiD,EAAI1B,+BACjByF,QAASA,EACTlH,SAAUlC,KAAKkC,SACfG,aAAcqG,WAfQ3G,IAAMC,eAqB9B2H,mLACK,IAAAC,EACqC5J,KAAKJ,MAAzCmJ,EADDa,EACCb,OAAQnD,EADTgE,EACShE,QAASC,EADlB+D,EACkB/D,eAEzB,OAAKkD,EAKH1H,EAAAC,EAAAC,cAACsI,EAAD,CACElE,aAlFR,SAA6BoD,EAAQnD,GACnC,IAAMkE,EAAgB,IAAIC,OAAJ,MAAA7E,OAAiB6D,EAAjB,WAAkC,KAElDiB,EAAU,IAAIC,IAWpB,OATArE,EAAQsB,QAAQ,SAAAG,GAAM,OACpBA,EAAOC,YACJb,MAAM,MACNW,OAAO,SAAA8C,GAAU,OAAuC,MAAnCA,EAAWC,MAAML,KACtC9G,IAAI,SAAAkH,GAAU,OAAIA,EAAWE,QAAQ,aAAc,MACnDpH,IAAI,SAAAkH,GAAU,OAAIA,EAAWE,QAAQ,SAAU,MAC/CpH,IAAI,SAAAkH,GAAU,OAAIA,EAAWvD,SAC7BO,QAAQ,SAAAmD,GAAM,OAAIL,EAAQzC,IAAI8C,OAE5BhB,MAAMC,KAAKU,GAAS9B,OAoEPoC,CAAoBvB,EAAQnD,GAC1CA,QAASA,EACTC,eAAgBA,IAPX,YALmB9D,IAAMC,eCzEjBuI,mLACV,IAAA9J,EACoCT,KAAKJ,MAAxC+I,EADDlI,EACCkI,MAAO/C,EADRnF,EACQmF,QAASC,EADjBpF,EACiBoF,eAExB,OACExE,EAAAC,EAAAC,cAACsI,EAAD,CACElE,aAAcgD,EAAM6B,OACpB1E,kBAAmBT,EAAI5B,wBACvBmC,QAASA,EACTC,eAAgBA,WATgB9D,IAAMC,yCCAzByI,6MACnBC,SAAW,SAACrK,EAAOT,GACjBC,EAAKD,MAAM8K,SAAS9K,EAAMwF,gFAGnB,IAAA8D,EAAAlJ,KAAAS,EACsBT,KAAKJ,MAA1Bc,EADDD,EACCC,MAAOE,EADRH,EACQG,UAEf,OACES,EAAAC,EAAAC,cAAA,OAAKX,UAAWA,GACdS,EAAAC,EAAAC,cAACoJ,EAAA,EAAD,CAAMC,YAAU,GACblK,EAAMsC,IAAI,SAAAJ,GAAI,OACbvB,EAAAC,EAAAC,cAACoJ,EAAA,EAAKE,KAAN,CAAWlI,IAAKC,EAAKwC,OACnB/D,EAAAC,EAAAC,cAACuJ,EAAA,EAAD,CACE1F,MAAOxC,EAAKwC,MACZ2F,QAASnI,EAAKmI,QACd7I,SAAUgH,EAAKwB,uBAhBW3I,IAAMC,eCU3BgJ,mLACV,IACCzB,EAASvJ,KAAKJ,MAAd2J,KAER,OAAOlI,EAAAC,EAAAC,cAAA,WAhBS,SAACgI,GACnB,IAAM0B,EAAQ,GAQd,OANA1B,EAAK9C,MAAM,MAAMS,QAAQ,SAACgE,EAAMxG,GAC9BuG,EAAMpI,KAAKxB,EAAAC,EAAAC,cAAA,QAAMoB,IAAG,QAAAuC,OAAUR,IAAMwG,IACpCD,EAAMpI,KAAKxB,EAAAC,EAAAC,cAAA,MAAIoB,IAAG,WAAAuC,OAAaR,QAEjCuG,EAAME,MAECF,EAOQG,CAAY7B,WAJcxH,IAAMC,wBCV5BqJ,6MACnBnJ,SAAW,SAAC7B,EAAOT,GACjBC,EAAKD,MAAMsC,SAAStC,EAAMuC,gFAGnB,IAAA+G,EAAAlJ,KAAAS,EAC+BT,KAAKJ,MAAnCc,EADDD,EACCC,MAAOqK,EADRtK,EACQsK,QAASnK,EADjBH,EACiBG,UAExB,OACES,EAAAC,EAAAC,cAAA,OAAKX,UAAWA,GACdS,EAAAC,EAAAC,cAACoJ,EAAA,EAAD,CAAMC,YAAU,GACblK,EAAMsC,IAAI,SAAAJ,GAAI,OACbvB,EAAAC,EAAAC,cAACoJ,EAAA,EAAKE,KAAN,CAAWlI,IAAKC,EAAKT,OACnBd,EAAAC,EAAAC,cAAC+J,EAAA,EAAD,CACElG,MAAOxC,EAAKwC,MACZjD,MAAOS,EAAKT,MACZ4I,QAASA,IAAYnI,EAAKT,MAC1BD,SAAUgH,EAAKhH,uBAjBQH,IAAMC,wBCCxBuJ,mLACV,IACCC,EAAWxL,KAAKJ,MAAhB4L,OAER,OACEnK,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CACEjF,KAAK,OACLkJ,cAAeD,EACfE,UAVU,EAWVC,UAAQ,WATwB5J,IAAMC,eCLxC4J,EAAe,SAACC,GACpB,IAAMC,EAAU,GAUhB,OARAD,EAAS3E,QAAQ,SAAAtE,GACVkJ,EAAQlJ,GAGXkJ,EAAQlJ,KAFRkJ,EAAQlJ,GAAQ,IAMbkJ,GAGYC,aACnB,SAAAA,EAAYF,GAAW/L,OAAAC,EAAA,EAAAD,CAAAE,KAAA+L,GACrB/L,KAAKgM,SAAWJ,EAAaC,0DAGpBI,GACT,OAAOnM,OAAOiD,QAAQ/C,KAAKgM,UACxB9D,KAAK,SAAAhE,EAAAuD,GAAA,IAAAE,EAAA7H,OAAA8H,EAAA,EAAA9H,CAAAoE,EAAA,GAASgI,GAATvE,EAAA,GAAAA,EAAA,IAAAvB,EAAAtG,OAAA8H,EAAA,EAAA9H,CAAA2H,EAAA,GAAArB,EAAA,UAAAA,EAAA,GAA+C8F,IACpDlJ,IAAI,SAAAsD,GAAA,IAAAM,EAAA9G,OAAA8H,EAAA,EAAA9H,CAAAwG,EAAA,GAAE1D,EAAFgE,EAAA,GAAAA,EAAA,UAAmBhE,IACvBxB,MAAM,EAAG6K,YCvBVE,GAAY,eCWlB,IDT6BC,GAAWC,GCSlCC,GAAgB,SAACC,EAAUC,GAAkB,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACjD,QAAAC,EAAAC,EAAoBN,EAApBO,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAmC,KAAxBU,EAAwBN,EAAA1K,MAC3BiL,EAAS,IAAIrD,OAAOoD,EAAO,MACjCZ,EAAWA,EAASnC,QAAQgD,EAAQD,EAAM/C,QAAQ,KAAM,OAHT,MAAAiD,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,MAAAC,GAMjD,OAAOJ,GAGHgB,GAAc,SAAChB,GAAD,OAAcA,EAASnC,QAAQ,KAAM,MAEnDoD,GAAS,SAACL,EAAOxE,GAAU,IAAA8E,GAAA,EAAAC,GAAA,EAAAC,OAAAf,EAAA,IAC/B,QAAAgB,EAAAC,EAAmBlF,EAAnBoE,OAAAC,cAAAS,GAAAG,EAAAC,EAAAZ,QAAAC,MAAAO,GAAA,EAA0B,KAAfK,EAAeF,EAAAzL,MACxB,IAA6B,IAAzBgL,EAAMrG,QAAQgH,GAChB,OAAO,GAHoB,MAAAT,GAAAK,GAAA,EAAAC,EAAAN,EAAA,YAAAI,GAAA,MAAAI,EAAAP,QAAAO,EAAAP,SAAA,WAAAI,EAAA,MAAAC,GAO/B,OAAO,GAGHI,ID9BuB3B,GC8BO,SAAAlI,GAAoC,IAAjC0B,EAAiC1B,EAAjC0B,QAASoI,EAAwB9J,EAAxB8J,WAAYrF,EAAYzE,EAAZyE,MACpDsF,EAAe,IAAIhE,IAAJnK,OAAAoO,EAAA,EAAApO,CAAY6I,EAAMwF,UAAlBjJ,OAAApF,OAAAoO,EAAA,EAAApO,CAA+B6I,EAAM6B,QAArC1K,OAAAoO,EAAA,EAAApO,CAAgD6I,EAAME,WACrEuF,EAAc,GAqBpB,OApBAxI,EACG5C,IAAI,SAAAqE,GAAM,OAAIA,EAAOC,cACrBJ,QAAQ,SAAAmH,GACPA,EACG5H,MAAM,MACNW,OAAO,SAAA8C,GAAU,OAAKsD,GAAOtD,EAAYvB,EAAM2F,aAC/CpH,QAAQ,SAAAgD,GACPoC,GAAcpC,EAAY+D,GACvBxH,MAAM,KACNzD,IAAI,SAAA8K,GAAI,OAAIA,EAAK1D,QAAQ,aAAc,MACvCpH,IAAI,SAAA8K,GAAI,OAAIP,GAAYO,KACxB9K,IAAI,SAAA8K,GAAI,OAAIA,EAAK1D,QAAQ,cAAe,MACxChD,OAAO,SAAA0G,GAAI,OAAIA,EAAK9M,OAAS,IAC7BgC,IAAI,SAAA8K,GAAI,OAAIA,EAAKtH,gBACjBY,OAAO,SAAA0G,GAAI,OAAKN,GAAOM,EAAMnF,EAAM4F,YACnCnH,OAAO,SAAA0G,GAAI,OAAKN,GAAOM,EAAMnF,EAAM6F,WACnCtH,QAAQ,SAAA4G,GAAI,OAAIM,EAAYvL,KAAKiL,SAIrC,IAAI/B,EAAQqC,GAChBK,WAAWT,GACXhL,IAAI,SAAA0L,GAAI,MAAK,CAAEA,OAAMC,SAAS,MDvDKtC,GCwDrC,iBDvDM,SAACuC,GACN,IAAMC,EAAQ,GAAA3J,OAAMiH,GAAN,KAAAjH,OAAmB0J,EAAKhJ,QAAQ5E,OAAhC,KAAAkE,OAA0CmH,IAClDyC,EAASC,aAAaC,QAAQH,GACpC,GAAc,MAAVC,EACF,OAAOG,KAAKC,MAAMJ,GAGpB,IAAM3M,EAAQiK,GAAUwC,GAExB,OADAG,aAAaI,QAAQN,EAAUI,KAAKG,UAAUjN,IACvCA,ICgDLkN,GAAoB,SAAChI,EAAQiI,GACjC,IAAKA,EAAYtO,OACf,OAAO,EAGT,IAAMuO,EAAehC,GAAYlG,EAAOC,aAAad,cAErD,OAAO8I,EACJlI,OAAO,SAAAoI,GAAU,OAAIA,EAAWb,UAChC3L,IAAI,SAAAwM,GAAU,OAAIA,EAAWd,KAAKlI,gBAClCiJ,MAAM,SAAAC,GAAW,OAA2C,IAAvCH,EAAazI,QAAQ4I,MAGzCC,GAAgB,SAACtI,EAAQ5B,EAAYkD,GACzC,IAAKlD,EACH,OAAO,EAGT,IAAM8J,EAAejD,GAAc,GAAApH,OAAGmC,EAAOuI,KAAV,MAAA1K,OAAmBmC,EAAOC,aAAcd,cAAemC,EAAMwF,UAEhG,OAAO1I,EACJgB,MAAM,MACNzD,IAAI,SAAA0D,GAAU,OAAIA,EAAWC,SAC7B3D,IAAI,SAAA0D,GAAU,OAAIA,EAAWF,gBAC7BiJ,MAAM,SAAA/I,GAAU,OAA0C,IAAtC6I,EAAazI,QAAQJ,MAGxCmJ,GAAa,CACjB,CAACzK,MAAOC,EAAIhC,kBAAmBlB,MAAO,QACtC,CAACiD,MAAOC,EAAI/B,oBAAqBnB,MAAO,SAAU2N,WAAY,SAACC,EAASC,GAAV,OAAsBA,EAAQxI,OAASuI,EAAQvI,UAGzGyI,GAAe,SAAC5I,EAAQ3C,GAAT,MAAgB,CACnC/B,IAAG,UAAAuC,OAAYR,EAAZ,KAAAQ,OAAiBmC,EAAOuI,KAAxB,KAAA1K,OAAgCmC,EAAOC,aAC1CxC,OAAQuC,EAAOuI,KACf7K,YAAa1D,EAAAC,EAAAC,cAAC2O,EAAD,CAAe3G,KAAMgE,GAAYlG,EAAOC,eACrD6I,KAAM9O,EAAAC,EAAAC,cAAC6O,EAAD,CAAY5E,OAAQnE,EAAOG,WAG7B6I,GAAmB,SAACjJ,GAAD,MAAa,CACpChC,MAAOgC,EAAOsH,KACd3D,QAAS3D,EAAOuH,UAGG2B,eACnB,SAAAA,EAAY1Q,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsQ,IACjBzQ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwQ,GAAAnQ,KAAAH,KAAMJ,KASR2Q,mBAAqB,SAACf,GAAe,IAG7BgB,EAFkB3Q,EAAKW,MAArB8O,YAGLtM,IAAI,SAAAyE,GAAA,IAAGiH,EAAHjH,EAAGiH,KAAMC,EAATlH,EAASkH,QAAT,OAAuBD,IAASc,EAChC,CAAEd,OAAMC,SAAUA,GAClB,CAAED,OAAMC,aAEf9O,EAAKU,SAAS,CAAE+O,YAAakB,KAlBZ3Q,EAqBnB2F,mBAAqB,SAACC,GAAe,IAC3BkD,EAAU9I,EAAKD,MAAf+I,MAEF8H,EAAgBnE,GAAc7G,EAAYkD,EAAMwF,UACtDtO,EAAKU,SAAS,CAAEkF,WAAYgL,KAzBX5Q,EA4BnB6Q,kBAAoB,SAACC,GACnB9Q,EAAKU,SAAS,CAAEoQ,eA7BC9Q,EAgCnB+Q,iBAAmB,SAACvJ,GAAW,IAAAwJ,EACOhR,EAAKW,MAAjC8O,EADqBuB,EACrBvB,YAAa7J,EADQoL,EACRpL,WACbkD,EAAU9I,EAAKD,MAAf+I,MAER,OAAO0G,GAAkBhI,EAAQiI,IAC/BK,GAActI,EAAQ5B,EAAYkD,IArCnB9I,EAwCnBqI,KAAO,SAACtC,GAAY,IACV+K,EAAc9Q,EAAKW,MAAnBmQ,UAEFb,EAAaD,GAChBzI,OAAO,SAAA0J,GAAK,OAAIA,EAAM3O,QAAUwO,IAChC3N,IAAI,SAAA8N,GAAK,OAAIA,EAAMhB,aAAY,GAMlC,OAJIA,IACFlK,EAAUA,EAAQsC,KAAK4H,IAGlBlK,GAhDP/F,EAAKW,MAAQ,CACXmQ,UAAW,OACXlL,WAAY7F,EAAM8F,OAAS,GAC3B4J,YAAavB,GAAenO,IANbC,wEAsDV,IAAAY,EAC6BT,KAAKJ,MAAjCgG,EADDnF,EACCmF,QAASmL,EADVtQ,EACUsQ,eADVC,EAEwChR,KAAKQ,MAA5C8O,EAFD0B,EAEC1B,YAAa7J,EAFduL,EAEcvL,WAAYkL,EAF1BK,EAE0BL,UAE3BM,EAAqBjR,KAAKkI,KAAKtC,EAAQwB,OAAOpH,KAAK4Q,mBAEzD,OACEvP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKX,UAAU,kBACbS,EAAAC,EAAAC,cAAC2P,EAAD,CACEtQ,UAAU,UACVF,MAAO4O,EAAYtM,IAAIqN,IACvB3F,SAAU1K,KAAKuQ,qBAEjBlP,EAAAC,EAAAC,cAAC+G,EAAD,CACE1H,UAAU,YACVyB,aAAcoD,EACdrD,YAAaiD,EAAIjC,yBACjBlB,SAAUlC,KAAKwF,qBAEjBnE,EAAAC,EAAAC,cAAC4P,EAAD,CACEvQ,UAAU,YACVF,MAAOmP,GACP9E,QAAS4F,EACTzO,SAAUlC,KAAK0Q,qBAGnBrP,EAAAC,EAAAC,cAACgH,EAAD,CACE3H,UAAU,qBACVD,aAAcoQ,EACdrQ,MAAOuQ,EAAmBjO,IAAIiN,cArFClO,IAAMC,eCpG1BoP,oLACV,IAAA3Q,EACoCT,KAAKJ,MAAxC+I,EADDlI,EACCkI,MAAO/C,EADRnF,EACQmF,QAASC,EADjBpF,EACiBoF,eAExB,OACExE,EAAAC,EAAAC,cAACsI,EAAD,CACElE,aAAcgD,EAAME,QACpB/C,kBAAmBT,EAAI3B,yBACvBkC,QAASA,EACTC,eAAgBA,WATiB9D,IAAMC,eCJ/C,SAASqP,GAAYC,GACnB,GAAIA,EAASC,QAAU,KAAOD,EAASC,OAAS,IAC9C,OAAOD,EAEP,IAAME,EAAQ,IAAIC,MAAMH,EAASI,YAEjC,MADAF,EAAMF,SAAWA,EACXE,EAIV,SAASG,GAAUL,GACjB,OAAOA,EAASM,OAGH,SAASC,GAAUC,GAChC,OAAOC,MAAMD,GACVE,KAAKX,IACLW,KAAKL,sBCGWM,eACnB,SAAAA,EAAYrS,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiS,IACjBpS,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmS,GAAA9R,KAAAH,KAAMJ,KA8BRsS,gBAAkB,SAAAhO,EAAqBiO,GAAc,IAAhCvM,EAAgC1B,EAAhC0B,QAAS+C,EAAuBzE,EAAvByE,MAC5B9I,EAAKU,SAAS,CACZqF,UACA+C,MAAO,CACLwF,SAAU,IAAIlE,IAAItB,EAAMwF,UAAY,IACpCG,UAAW,IAAIrE,IAAItB,EAAM2F,WAAa,IACtCC,SAAU,IAAItE,IAAItB,EAAM4F,UAAY,IACpC/D,OAAQ,IAAIP,IAAItB,EAAM6B,QAAU,IAChCgE,QAAS,IAAIvE,IAAItB,EAAM6F,SAAW,IAClC3F,QAAS,IAAIoB,IAAItB,EAAME,SAAW,KAEpCsJ,eA1CetS,EA8CnBuS,0BAA4B,WAC1BvS,EAAKU,SAAS,CAAE4R,UAAW,MA/CVtS,EAkDnBwS,YAAc,SAACzS,GAAD,OACZyB,EAAAC,EAAAC,cAAC+Q,EAAAhR,EAAD,CAAU2D,GAAG,cAnDIpF,EAqDnB0S,cAAgB,SAAC3S,GAAD,OACdyB,EAAAC,EAAAC,cAACiR,GAAD,CACE5M,QAAS/F,EAAKW,MAAMoF,QACpB+C,MAAO9I,EAAKW,MAAMmI,MAClBjD,MAAO9F,EAAMuK,MAAMsI,OAAO/M,MAC1BqL,eAAgBlR,EAAKD,MAAM8S,SAC3B1E,WAAYnO,EAAKD,MAAMoO,cA3DRnO,EA8DnB8S,cAAgB,SAAC/S,GAAD,OACdyB,EAAAC,EAAAC,cAACqR,GAAD,CACEhN,QAAS/F,EAAKW,MAAMoF,QACpB+C,MAAO9I,EAAKW,MAAMmI,MAClBjD,MAAO9F,EAAMuK,MAAMsI,OAAO/M,MAC1BG,eAAgBhG,EAAKD,MAAM8S,YAnEZ7S,EAsEnBgT,aAAe,SAACjT,GAAD,OACbyB,EAAAC,EAAAC,cAACuR,EAAD,CACElN,QAAS/F,EAAKW,MAAMoF,QACpB+C,MAAO9I,EAAKW,MAAMmI,MAClBjD,MAAO9F,EAAMuK,MAAMsI,OAAO/M,MAC1BG,eAAgBhG,EAAKD,MAAM8S,YA3EZ7S,EA8EnBkT,cAAgB,SAACnT,GAAD,OACdyB,EAAAC,EAAAC,cAACyR,EAAD,CACEpN,QAAS/F,EAAKW,MAAMoF,QACpB+C,MAAO9I,EAAKW,MAAMmI,MAClBjD,MAAO9F,EAAMuK,MAAMsI,OAAO/M,MAC1BG,eAAgBhG,EAAKD,MAAM8S,YAnFZ7S,EAsFnBoT,uBAAyB,SAACrT,GAAU,IAC1BuS,EAAcvS,EAAduS,UACR,OAAKA,EAKH9Q,EAAAC,EAAAC,cAAC2R,EAAA,EAAD,CAASC,SAAO,EAACC,UAAQ,EAAC7Q,MAAI,EAAC8Q,UAAWxT,EAAKuS,0BAA2BxR,UAAU,cAClFS,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAMnP,KAAK,SACX9C,EAAAC,EAAAC,cAAC2R,EAAA,EAAQK,QAAT,KACElS,EAAAC,EAAAC,cAAC2R,EAAA,EAAQM,OAAT,KAAiBnO,EAAIlC,kBACpBkC,EAAInC,oBAFP,IAE6BiP,IARxB,MAzFQtS,EAuGnB4T,UAAY,SAAC7T,GACX,IAAM8T,EAAW9T,EAAM8T,SAASC,SAEhC,OACEtS,EAAAC,EAAAC,cAACqS,EAAA,EAAD,CAAMrR,KAAK,UAAUsR,KAAK,OAAOC,MAAM,UACrCzS,EAAAC,EAAAC,cAACqS,EAAA,EAAK/I,KAAN,CAAWkJ,GAAIC,IAAM/O,GAAG,WAAWgP,OAAQP,EAAS1N,WAAW,aAC7D3E,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAMnP,KAAK,aACVkB,EAAIzB,kBAEPvC,EAAAC,EAAAC,cAACqS,EAAA,EAAK/I,KAAN,CAAWkJ,GAAIC,IAAM/O,GAAG,WAAWgP,OAAQP,EAAS1N,WAAW,aAC7D3E,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAMnP,KAAK,cACVkB,EAAIxB,kBAEPxC,EAAAC,EAAAC,cAACqS,EAAA,EAAK/I,KAAN,CAAWkJ,GAAIC,IAAM/O,GAAG,UAAUgP,OAAQP,EAAS1N,WAAW,YAC5D3E,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAMnP,KAAK,eACVkB,EAAIvB,iBAEPzC,EAAAC,EAAAC,cAACqS,EAAA,EAAK/I,KAAN,CAAWkJ,GAAIC,IAAM/O,GAAG,WAAWgP,OAAQP,EAAS1N,WAAW,aAC7D3E,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAMnP,KAAK,WACVkB,EAAItB,oBAvHXlE,EAAKW,MAAQ,CACXgR,MAAO,KACP5L,QAAS,GACT+C,MAAO,GACPwJ,UAAW,IAPItS,mFAWC,IAAAqJ,EAAAlJ,KAAAS,EACeT,KAAKJ,MAA9BsU,EADUzT,EACVyT,WAAYC,EADF1T,EACE0T,SAEpBC,QAAQC,IAAI,CAACxC,GAAUqC,GAAarC,GAAUsC,KAC3CnC,KAAK,SAAAvK,GAAsB,IAAAE,EAAA7H,OAAA8H,EAAA,EAAA9H,CAAA2H,EAAA,GAApB7B,EAAoB+B,EAAA,GAAXgB,EAAWhB,EAAA,GAC1BuB,EAAKgJ,gBAAgB,CAAEtM,UAAS+C,UJrBjC,SAAAzE,GAA8C,IAAlB0B,EAAkB1B,EAAlB0B,QAAS+C,EAASzE,EAATyE,MAC1C2L,OAAOvF,aAAaI,QAAQhD,GAAW8C,KAAKG,UAAU,CACpDxJ,UACA+C,QACAwJ,WAAW,IAAIoC,MAAOC,cIkBlBC,CAAiB,CAAE7O,UAAS+C,YAE7B+L,MAAM,SAAAlD,GACL,IAAM1C,EJjBP,WACL,IAAMA,EAASwF,OAAOvF,aAAaC,QAAQ7C,IAC3C,OAAK2C,EAIEG,KAAKC,MAAMJ,GAHT,KIcY6F,GACf,GAAK7F,EAAL,CAFc,IAONlJ,EAA8BkJ,EAA9BlJ,QAAS+C,EAAqBmG,EAArBnG,MAAOwJ,EAAcrD,EAAdqD,UACxBjJ,EAAKgJ,gBAAgB,CAAEtM,UAAS+C,SAASwJ,QALvCjJ,EAAK3I,SAAS,CAAEiR,6CA0Gf,IAAAX,EAC+B7Q,KAAKQ,MAAnCgR,EADDX,EACCW,MAAO5L,EADRiL,EACQjL,QAASuM,EADjBtB,EACiBsB,UAExB,OAAIX,EAEAnQ,EAAAC,EAAAC,cAACqT,EAAA,EAAD,KACEvT,EAAAC,EAAAC,cAAC2R,EAAA,EAAD,CAAS1B,OAAK,EAACqD,QAASxP,EAAIlC,iBAAkBvC,UAAU,gBAKvC,IAAnBgF,EAAQ5E,OACH,KAIPK,EAAAC,EAAAC,cAACuT,EAAAxT,EAAD,KACED,EAAAC,EAAAC,cAACqT,EAAA,EAAD,KACG5U,KAAKiT,uBAAuB,CAAEd,cAC/B9Q,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO0T,KAAK,IAAIC,UAAWjV,KAAKyT,YAChCpS,EAAAC,EAAAC,cAAC2T,EAAA5T,EAAD,KACED,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO6T,OAAK,EAACH,KAAK,IAAIC,UAAWjV,KAAKqS,cACtChR,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO6T,OAAK,EAACH,KAAK,mBAAmBI,OAAQpV,KAAKuS,gBAClDlR,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO6T,OAAK,EAACH,KAAK,mBAAmBI,OAAQpV,KAAK2S,gBAClDtR,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO6T,OAAK,EAACH,KAAK,kBAAkBI,OAAQpV,KAAK6S,eACjDxR,EAAAC,EAAAC,cAACwT,EAAAzT,EAAD,CAAO6T,OAAK,EAACH,KAAK,mBAAmBI,OAAQpV,KAAK+S,0BA1J7BhR,IAAMS,WChBvC6S,IAASD,OACP/T,EAAAC,EAAAC,cAAC+T,GAAD,CACEpB,WAAYqB,2EACZpB,SAAUoB,yEACV7C,SAAUxM,SAASqP,IAAiC,IACpDvH,WAAY9H,SAASqP,KAAmC,MAE1DC,SAASC,eAAe","file":"static/js/main.d0bfd066.chunk.js","sourcesContent":["import React from 'react';\nimport Card from 'semantic-ui-react/dist/es/views/Card/Card';\nimport Pagination from 'semantic-ui-react/dist/es/addons/Pagination/Pagination';\n\nexport default class PaginatedCardGroup extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePage: 1\n    };\n  }\n\n  onPageChange = (event, props) => {\n    const { activePage } = props;\n    this.setState({ activePage });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({ activePage: 1 });\n  }\n\n  render() {\n    const { activePage } = this.state;\n    const { items, itemsPerPage, className } = this.props;\n\n    const totalPages = Math.ceil(items.length / itemsPerPage);\n    const pageStart = (activePage - 1) * itemsPerPage;\n    const pageEnd = pageStart + itemsPerPage;\n    const itemsOnPage = items.slice(pageStart, pageEnd);\n\n    return (\n      <div className={className}>\n        <div className=\"group\">\n          <Card.Group items={itemsOnPage} />\n        </div>\n        <div className=\"pagination\">\n          <Pagination\n            prevItem={null}\n            nextItem={null}\n            firstItem={null}\n            lastItem={null}\n            activePage={activePage}\n            onPageChange={this.onPageChange}\n            totalPages={totalPages}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Input from 'semantic-ui-react/dist/es/elements/Input/Input';\n\nexport default class SearchBar extends React.Component {\n  onChange = (event, props) => {\n    this.props.onChange(props.value);\n  }\n\n  render() {\n    const { placeholder, defaultValue, className } = this.props;\n\n    return (\n      <div className={className}>\n        <Input\n          icon=\"search\"\n          defaultValue={defaultValue}\n          placeholder={placeholder}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n","export default class MultiMap {\n  constructor() {\n    this._map = {};\n  }\n\n  add(key, item) {\n    if (!this._map[key]) this._map[key] = [];\n    this._map[key].push(item);\n  }\n\n  get(key) {\n    return this._map[key] || [];\n  }\n\n  map(func) {\n    return Object.entries(this._map).map(func);\n  }\n}\n","export default {\n  recipesCacheWarning: 'Using cached recipes, last updated:',\n  recipesLoadError: 'Something went wrong while loading the recipes',\n  recipesSearchPlaceholder: 'Search for recipes...',\n  recipesSortByDate: 'Sort by date',\n  recipesSortByRating: 'Sort by rating',\n  meanRatingSupport: 'Cocktails',\n  meanRatingValue: 'Avg Rating',\n  brandsSearchPlaceholder: 'Search for brands...',\n  spiritsSearchPlaceholder: 'Search for spirits...',\n  bottlesSpiritSelectPlaceholder: 'Select spirit...',\n  menuEntryRecipes: 'Recipes',\n  menuEntrySpirits: 'Top Spirits',\n  menuEntryBrands: 'Top brands',\n  menuEntryBottles: 'Top bottles',\n};\n","import en from './en';\n\nexport default en;\n","import React from 'react';\nimport Link from 'react-router-dom/Link';\nimport Statistic from 'semantic-ui-react/dist/es/views/Statistic/Statistic';\nimport PaginatedCardGroup from './PaginatedCardGroup';\nimport SearchBar from './SearchBar';\nimport MultiMap from '../utils/MultiMap';\nimport mean from '../utils/mean';\nimport hashCode from '../utils/hashCode';\nimport i8n from '../i8n';\n\nconst colors = ['orange', 'yellow', 'olive', 'green', 'teal', 'blue', 'violet', 'purple', 'pink', 'brown'];\n\nconst randomColor = (name) => colors[Math.abs(hashCode(name)) % colors.length];\n\nconst toMeanCard = ({ name, mean, support }) => {\n  const color = randomColor(name);\n\n  return {\n    key: name,\n    header: name,\n    color,\n    description:\n      <Link to={`/recipes/${name}`}>\n        <Statistic.Group>\n          <Statistic label={i8n.meanRatingSupport} value={support} color={color} />\n          <Statistic label={i8n.meanRatingValue} value={mean.toFixed(2)} color={color} />\n        </Statistic.Group>\n      </Link>\n  };\n}\n\nconst toMean = (recipes, aggregations) => {\n  const aggregationToRatings = new MultiMap();\n  aggregations.forEach(aggregation =>\n    recipes.filter(recipe => recipe.Ingredients.toLowerCase().indexOf(aggregation.toLowerCase()) !== -1).forEach(recipe =>\n      aggregationToRatings.add(aggregation, recipe.Rating)));\n\n  return aggregationToRatings\n    .map(([name, ratings]) => ({ name, mean: mean(ratings), support: ratings.length }))\n    .sort((a, b) => Math.sign(b.mean - a.mean));\n}\n\nconst buildRatingsFilter = (filterText) => {\n  if (filterText.startsWith('#<')) {\n    const maxSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support < maxSupport;\n  }\n\n  if (filterText.startsWith('#>')) {\n    const minSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support > minSupport;\n  }\n\n  if (filterText.length > 0) {\n    const searchTerms = filterText.toLowerCase().split('||').map(searchTerm => searchTerm.trim());\n    return ({ name }) => searchTerms.some(searchTerm => name.toLowerCase().indexOf(searchTerm) !== -1);\n  }\n\n  return () => true;\n}\n\nexport default class AverageRatingsDisplay extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filterText: props.query || ''\n    };\n  }\n\n  onSearchTextChange = (filterText) => {\n    this.setState({ filterText });\n  }\n\n  render() {\n    const { aggregations, recipes, ratingsPerPage, searchPlaceholder } = this.props;\n    const { filterText } = this.state;\n\n    const ratingsFilter = buildRatingsFilter(filterText);\n    const meanRatings = toMean(recipes, aggregations).filter(ratingsFilter);\n\n    return (\n      <div>\n        <div className=\"brandControls\">\n          {searchPlaceholder &&\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={searchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />}\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={ratingsPerPage}\n          items={meanRatings.map(toMeanCard)}\n        />\n      </div>\n    );\n  }\n}\n","export default function hashCode(str) {\n  let hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    let chr = str.charCodeAt(i);\n    hash  = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n\n  return hash;\n}\n","function sum(numbers) {\n  return numbers.reduce((prev, cur) => prev + cur, 0);\n}\n\nexport default function mean(numbers) {\n  return sum(numbers) / numbers.length;\n}\n","import React from 'react';\nimport Dropdown from 'semantic-ui-react/dist/es/modules/Dropdown/Dropdown';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nfunction getBottlesForSpirit(spirit, recipes) {\n  const spiritMatcher = new RegExp(`\\\\s${spirit}(\\\\s|$)`, 'i');\n\n  const bottles = new Set();\n\n  recipes.forEach(recipe =>\n    recipe.Ingredients\n      .split('\\n')\n      .filter(ingredient => ingredient.match(spiritMatcher) != null)\n      .map(ingredient => ingredient.replace(/\\([^)]*\\)/g, ''))\n      .map(ingredient => ingredient.replace(/^[^ ]*/, ''))\n      .map(ingredient => ingredient.trim())\n      .forEach(bottle => bottles.add(bottle)));\n\n  return Array.from(bottles).sort();\n}\n\nexport default class BottlesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedSpirit: props.query\n    };\n  }\n\n  onSpiritChange = (selectedSpirit) => this.setState({ selectedSpirit });\n\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n    const { selectedSpirit } = this.state;\n\n    return (\n      <div>\n        <div className=\"bottleControls\">\n          <SpiritsSelector\n            selectedSpirit={selectedSpirit}\n            spirits={words.spirits}\n            onChange={this.onSpiritChange}\n          />\n        </div>\n        <TopBottlesDisplay\n          spirit={selectedSpirit}\n          recipes={recipes}\n          ratingsPerPage={ratingsPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nclass SpiritsSelector extends React.PureComponent {\n  onChange = (e, { value }) => this.props.onChange(value);\n\n  render() {\n    const { spirits, selectedSpirit } = this.props;\n\n    const options = Array.from(spirits).sort().map(spirit => ({ text: spirit, value: spirit }));\n\n    return (\n      <Dropdown\n        search\n        selection\n        placeholder={i8n.bottlesSpiritSelectPlaceholder}\n        options={options}\n        onChange={this.onChange}\n        defaultValue={selectedSpirit}\n      />\n    );\n  }\n}\n\nclass TopBottlesDisplay extends React.PureComponent {\n  render() {\n    const { spirit, recipes, ratingsPerPage } = this.props;\n\n    if (!spirit) {\n      return null;\n    }\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={getBottlesForSpirit(spirit, recipes)}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class BrandsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.brands}\n        searchPlaceholder={i8n.brandsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport Checkbox from 'semantic-ui-react/dist/es/modules/Checkbox/Checkbox';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\n\nexport default class CheckBoxList extends React.PureComponent {\n  onToggle = (event, props) => {\n    this.props.onToggle(props.label);\n  }\n\n  render() {\n    const { items, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.label}>\n              <Checkbox\n                label={item.label}\n                checked={item.checked}\n                onChange={this.onToggle}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst textToLines = (text) => {\n  const lines = [];\n\n  text.split('\\n').forEach((line, i) => {\n    lines.push(<span key={`line-${i}`}>{line}</span>);\n    lines.push(<br key={`newline-${i}`} />);\n  });\n  lines.pop();\n\n  return lines;\n}\n\nexport default class MultilineText extends React.PureComponent {\n  render() {\n    const { text } = this.props;\n\n    return <div>{textToLines(text)}</div>;\n  }\n}\n","import React from 'react';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\nimport Radio from 'semantic-ui-react/dist/es/addons/Radio/Radio';\n\nexport default class RadioList extends React.PureComponent {\n  onChange = (event, props) => {\n    this.props.onChange(props.value);\n  }\n\n  render() {\n    const { items, checked, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.value}>\n              <Radio\n                label={item.label}\n                value={item.value}\n                checked={checked === item.value}\n                onChange={this.onChange}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  };\n}\n","import React from 'react';\nimport Rating from 'semantic-ui-react/dist/es/modules/Rating/Rating';\n\nconst maxRating = 5;\n\nexport default class StarRating extends React.PureComponent {\n  render() {\n    const { rating } = this.props;\n\n    return (\n      <Rating\n        icon='star'\n        defaultRating={rating}\n        maxRating={maxRating}\n        disabled\n      />\n    );\n  }\n}\n","const buildCounter = (iterable) => {\n  const counter = {};\n\n  iterable.forEach(item => {\n    if (!counter[item]) {\n      counter[item] = 1;\n    } else {\n      counter[item]++;\n    }\n  });\n\n  return counter;\n}\n\nexport default class Counter {\n  constructor(iterable) {\n    this._counter = buildCounter(iterable);\n  }\n\n  mostCommon(num) {\n    return Object.entries(this._counter)\n      .sort(([itemA, countA], [itemB, countB]) => countB - countA)\n      .map(([item, count]) => item)\n      .slice(0, num);\n  }\n}\n","const CACHE_KEY = 'recipesCache';\n\nexport function recipesCache(decorated, funcName) {\n  return (args) => {\n    const cacheKey = `${CACHE_KEY}.${args.recipes.length}.${funcName}`;\n    const cached = localStorage.getItem(cacheKey);\n    if (cached != null) {\n      return JSON.parse(cached);\n    }\n\n    const value = decorated(args);\n    localStorage.setItem(cacheKey, JSON.stringify(value));\n    return value;\n  };\n}\n\nexport function storeRecipesData({ recipes, words }) {\n  window.localStorage.setItem(CACHE_KEY, JSON.stringify({\n    recipes,\n    words,\n    cacheDate: new Date().toString(),\n  }));\n}\n\nexport function loadRecipesData() {\n  const cached = window.localStorage.getItem(CACHE_KEY);\n  if (!cached) {\n    return null;\n  }\n\n  return JSON.parse(cached);\n}\n","import React from 'react';\nimport CheckBoxList from '../components/CheckBoxList';\nimport MultilineText from '../components/MultiLineText';\nimport PaginatedCardGroup from '../components/PaginatedCardGroup';\nimport RadioList from '../components/RadioList';\nimport SearchBar from '../components/SearchBar';\nimport StarRating from '../components/StarRating';\nimport Counter from '../utils/Counter';\nimport { recipesCache } from '../utils/cache';\nimport i8n from '../i8n';\n\nconst combineTokens = (sentence, combinedWords) => {\n  for (const token of combinedWords) {\n    const regexp = new RegExp(token, 'gi');\n    sentence = sentence.replace(regexp, token.replace(/ /g, '_'));\n  }\n\n  return sentence;\n};\n\nconst splitTokens = (sentence) => sentence.replace(/_/g, ' ');\n\nconst hasAny = (token, words) => {\n  for (const word of words) {\n    if (token.indexOf(word) !== -1) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nconst getFilterTerms = recipesCache(({ recipes, numFilters, words }) => {\n  const combineWords = new Set([...words.combined, ...words.brands, ...words.spirits]);\n  const recipeWords = [];\n  recipes\n    .map(recipe => recipe.Ingredients)\n    .forEach(ingredients => {\n      ingredients\n        .split('\\n')\n        .filter(ingredient => !hasAny(ingredient, words.blacklist))\n        .forEach(ingredient => {\n          combineTokens(ingredient, combineWords)\n            .split(' ')\n            .map(word => word.replace(/\\([^)]*\\)/g, ''))\n            .map(word => splitTokens(word))\n            .map(word => word.replace(/[^a-zA-Z ]/g, ''))\n            .filter(word => word.length > 0)\n            .map(word => word.toLowerCase())\n            .filter(word => !hasAny(word, words.quantity))\n            .filter(word => !hasAny(word, words.ignored))\n            .forEach(word => recipeWords.push(word));\n      });\n    });\n\n  return new Counter(recipeWords)\n    .mostCommon(numFilters)\n    .map(term => ({ term, enabled: false }));\n}, 'getFilterTerms');\n\nconst hasAllFilterTerms = (recipe, filterTerms) => {\n  if (!filterTerms.length) {\n    return true;\n  }\n\n  const searchCorpus = splitTokens(recipe.Ingredients).toLowerCase();\n\n  return filterTerms\n    .filter(filterTerm => filterTerm.enabled)\n    .map(filterTerm => filterTerm.term.toLowerCase())\n    .every(searchValue => searchCorpus.indexOf(searchValue) !== -1);\n}\n\nconst hasFilterText = (recipe, filterText, words) => {\n  if (!filterText) {\n    return true;\n  }\n\n  const searchCorpus = combineTokens(`${recipe.Name}\\n${recipe.Ingredients}`.toLowerCase(), words.combined);\n\n  return filterText\n    .split('&&')\n    .map(searchTerm => searchTerm.trim())\n    .map(searchTerm => searchTerm.toLowerCase())\n    .every(searchTerm => searchCorpus.indexOf(searchTerm) !== -1);\n};\n\nconst sortOrders = [\n  {label: i8n.recipesSortByDate, value: \"date\"},\n  {label: i8n.recipesSortByRating, value: \"rating\", comparator: (recipeA, recipeB) => recipeB.Rating - recipeA.Rating},\n];\n\nconst recipeToCard = (recipe, i) => ({\n  key: `recipe-${i}-${recipe.Name}-${recipe.Ingredients}`,\n  header: recipe.Name,\n  description: <MultilineText text={splitTokens(recipe.Ingredients)} />,\n  meta: <StarRating rating={recipe.Rating} />\n});\n\nconst filterToCheckbox = (filter) => ({\n  label: filter.term,\n  checked: filter.enabled\n});\n\nexport default class RecipesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortOrder: 'date',\n      filterText: props.query || '',\n      filterTerms: getFilterTerms(props)\n    };\n  }\n\n  onSearchTermToggle = (filterTerm) => {\n    const { filterTerms } = this.state;\n\n    const newFilterTerms = filterTerms\n      .map(({ term, enabled }) => term === filterTerm\n        ? ({ term, enabled: !enabled })\n        : ({ term, enabled }));\n\n    this.setState({ filterTerms: newFilterTerms });\n  }\n\n  onSearchTextChange = (filterText) => {\n    const { words } = this.props;\n\n    const newFilterText = combineTokens(filterText, words.combined);\n    this.setState({ filterText: newFilterText });\n  }\n\n  onSortOrderChange = (sortOrder) => {\n    this.setState({ sortOrder });\n  }\n\n  shouldShowRecipe = (recipe) => {\n    const { filterTerms, filterText } = this.state;\n    const { words } = this.props;\n\n    return hasAllFilterTerms(recipe, filterTerms) &&\n      hasFilterText(recipe, filterText, words);\n  }\n\n  sort = (recipes) => {\n    const { sortOrder } = this.state;\n\n    const comparator = sortOrders\n      .filter(order => order.value === sortOrder)\n      .map(order => order.comparator)[0];\n\n    if (comparator) {\n      recipes = recipes.sort(comparator);\n    }\n\n    return recipes;\n  }\n\n  render() {\n    const { recipes, recipesPerPage } = this.props;\n    const { filterTerms, filterText, sortOrder } = this.state;\n\n    const displayableRecipes = this.sort(recipes.filter(this.shouldShowRecipe));\n\n    return (\n      <div>\n        <div className=\"recipeControls\">\n          <CheckBoxList\n            className=\"filters\"\n            items={filterTerms.map(filterToCheckbox)}\n            onToggle={this.onSearchTermToggle}\n          />\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={i8n.recipesSearchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />\n          <RadioList\n            className=\"sortOrder\"\n            items={sortOrders}\n            checked={sortOrder}\n            onChange={this.onSortOrderChange}\n          />\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={recipesPerPage}\n          items={displayableRecipes.map(recipeToCard)}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class SpiritsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.spirits}\n        searchPlaceholder={i8n.spiritsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json()\n}\n\nexport default function fetchJson(url) {\n  return fetch(url)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","import React from 'react';\nimport HashRouter from 'react-router-dom/HashRouter';\nimport Link from 'react-router-dom/Link';\nimport Redirect from 'react-router-dom/Redirect';\nimport Route from 'react-router-dom/Route';\nimport Switch from 'react-router-dom/Switch';\nimport Container from 'semantic-ui-react/dist/es/elements/Container/Container';\nimport Icon from 'semantic-ui-react/dist/es/elements/Icon/Icon';\nimport Menu from 'semantic-ui-react/dist/es/collections/Menu/Menu';\nimport Message from 'semantic-ui-react/dist/es/collections/Message/Message';\nimport BottlesView from './views/BottlesView';\nimport BrandsView from './views/BrandsView';\nimport RecipesView from './views/RecipesView';\nimport SpiritsView from './views/SpiritsView';\nimport { storeRecipesData, loadRecipesData } from './utils/cache';\nimport fetchJson from './utils/fetchJson';\nimport i8n from './i8n';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      recipes: [],\n      words: {},\n      cacheDate: '',\n    };\n  }\n\n  componentDidMount() {\n    const { recipesUrl, wordsUrl } = this.props;\n\n    Promise.all([fetchJson(recipesUrl), fetchJson(wordsUrl)])\n      .then(([recipes, words]) => {\n        this.onRecipesLoaded({ recipes, words });\n        storeRecipesData({ recipes, words });\n      })\n      .catch(error => {\n        const cached = loadRecipesData();\n        if (!cached) {\n          this.setState({ error });\n          return;\n        }\n\n        const { recipes, words, cacheDate } = cached;\n        this.onRecipesLoaded({ recipes, words }, cacheDate);\n      });\n  }\n\n  onRecipesLoaded = ({ recipes, words }, cacheDate) => {\n    this.setState({\n      recipes,\n      words: {\n        combined: new Set(words.combined || []),\n        blacklist: new Set(words.blacklist || []),\n        quantity: new Set(words.quantity || []),\n        brands: new Set(words.brands || []),\n        ignored: new Set(words.ignored || []),\n        spirits: new Set(words.spirits || []),\n      },\n      cacheDate,\n    });\n  }\n\n  onStaleDataWarningDismiss = () => {\n    this.setState({ cacheDate: '' });\n  }\n\n  renderIndex = (props) =>\n    <Redirect to=\"/recipes\" />\n\n  renderRecipes = (props) =>\n    <RecipesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      recipesPerPage={this.props.pageSize}\n      numFilters={this.props.numFilters}\n    />\n\n  renderSpirits = (props) =>\n    <SpiritsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBrands = (props) =>\n    <BrandsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBottles = (props) =>\n    <BottlesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderStaleDataWarning = (props) => {\n    const { cacheDate } = props;\n    if (!cacheDate) {\n      return null;\n    }\n\n    return (\n      <Message warning floating icon onDismiss={this.onStaleDataWarningDismiss} className=\"messageTop\">\n        <Icon name=\"plug\" />\n        <Message.Content>\n          <Message.Header>{i8n.recipesLoadError}</Message.Header>\n          {i8n.recipesCacheWarning} {cacheDate}\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  renderNav = (props) => {\n    const location = props.location.pathname;\n\n    return (\n      <Menu icon=\"labeled\" size=\"mini\" fixed=\"bottom\">\n        <Menu.Item as={Link} to=\"/recipes\" active={location.startsWith('/recipes')}>\n          <Icon name=\"cocktail\" />\n          {i8n.menuEntryRecipes}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/spirits\" active={location.startsWith('/spirits')}>\n          <Icon name=\"bar chart\" />\n          {i8n.menuEntrySpirits}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/brands\" active={location.startsWith('/brands')}>\n          <Icon name=\"line chart\" />\n          {i8n.menuEntryBrands}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/bottles\" active={location.startsWith('/bottles')}>\n          <Icon name=\"winner\" />\n          {i8n.menuEntryBottles}\n        </Menu.Item>\n      </Menu>\n    );\n  }\n\n  render() {\n    const { error, recipes, cacheDate } = this.state;\n\n    if (error) {\n      return (\n        <Container>\n          <Message error content={i8n.recipesLoadError} className=\"messageTop\" />\n        </Container>\n      );\n    }\n\n    if (recipes.length === 0) {\n      return null;\n    }\n\n    return (\n      <HashRouter>\n        <Container>\n          {this.renderStaleDataWarning({ cacheDate })}\n          <Route path=\"*\" component={this.renderNav} />\n          <Switch>\n            <Route exact path=\"/\" component={this.renderIndex} />\n            <Route exact path=\"/recipes/:query?\" render={this.renderRecipes} />\n            <Route exact path=\"/spirits/:query?\" render={this.renderSpirits} />\n            <Route exact path=\"/brands/:query?\" render={this.renderBrands} />\n            <Route exact path=\"/bottles/:query?\" render={this.renderBottles} />\n          </Switch>\n        </Container>\n      </HashRouter>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App\n    recipesUrl={process.env.REACT_APP_RECIPES_URL}\n    wordsUrl={process.env.REACT_APP_WORDS_URL}\n    pageSize={parseInt(process.env.REACT_APP_PAGE_SIZE, 10)}\n    numFilters={parseInt(process.env.REACT_APP_NUM_FILTERS, 10)}\n  />,\n  document.getElementById('root'));\n"],"sourceRoot":""}