{"version":3,"sources":["components/PaginatedCardGroup.js","components/SearchBar.js","utils/MultiMap.js","i8n/en.js","i8n/index.js","components/AverageRatingsDisplay.js","utils/hashCode.js","utils/mean.js","views/BottlesView.js","views/BrandsView.js","components/CheckBoxList.js","components/MultiLineText.js","components/RadioList.js","components/StarRating.js","workers/WebWorker.js","workers/recipesWorker.js","utils/cache.js","views/RecipesView.js","views/SpiritsView.js","utils/fetchJson.js","App.js","serviceWorker.js","index.js"],"names":["PaginatedCardGroup","React","PureComponent","constructor","props","super","onPageChange","event","activePage","this","setState","state","render","items","itemsPerPage","className","totalPages","Math","ceil","length","pageStart","pageEnd","itemsOnPage","slice","Card","Group","Pagination","prevItem","nextItem","firstItem","lastItem","SearchBar","Component","onChange","value","_onChange","defaultValue","debounce","placeholder","Input","icon","MultiMap","_map","add","key","item","push","get","map","func","Object","entries","en","recipesCacheWarning","recipesLoadError","recipesSearchPlaceholder","recipesSortByDate","recipesSortByRating","meanRatingSupport","meanRatingValue","brandsSearchPlaceholder","spiritsSearchPlaceholder","bottlesSpiritSelectPlaceholder","bottlesSpiritAllEntries","menuEntryRecipes","menuEntrySpirits","menuEntryBrands","menuEntryBottles","menuEntryAI","colors","toMeanCard","name","mean","support","color","abs","str","hash","i","charCodeAt","hashCode","randomColor","header","description","to","Statistic","label","i8n","toFixed","AverageRatingsDisplay","onSearchTextChange","filterText","query","aggregations","recipes","ratingsPerPage","searchPlaceholder","ratingsFilter","startsWith","maxSupport","parseInt","substr","minSupport","searchTerms","toLowerCase","split","searchTerm","trim","some","indexOf","buildRatingsFilter","meanRatings","aggregationToRatings","forEach","aggregation","filter","recipe","Ingredients","Rating","ratings","numbers","reduce","prev","cur","sum","sort","a","b","sign","toMean","matcherFor","spirits","RegExp","Array","from","join","getBottlesForSpirit","spirit","spiritMatcher","bottles","Set","ingredient","match","replace","bottle","BottlesView","onSpiritChange","selectedSpirit","words","SpiritsSelector","e","allOption","text","spiritOptions","options","concat","Dropdown","search","selection","TopBottlesDisplay","BrandsView","brands","CheckBoxList","onToggle","List","horizontal","Item","Checkbox","checked","MultilineText","lines","line","pop","textToLines","RadioList","Radio","StarRating","rating","defaultRating","maxRating","disabled","WebWorker","worker","code","toString","blob","Blob","Worker","URL","createObjectURL","hasAny","token","found","word","getFilterTerms","numFilters","combineWords","combined","recipeWords","ingredients","blacklist","sentence","combinedWords","regexp","splitTokens","quantity","ignored","iterable","_counter","counter","buildCounter","mostCommon","num","pair","Counter","term","enabled","self","addEventListener","data","filterTerms","postMessage","loadRecipesData","cached","localStorage","getItem","JSON","parse","combineTokens","sortOrders","comparator","recipeA","recipeB","recipeToCard","Name","window","location","href","meta","filterToCheckbox","RecipesView","onSearchTermToggle","filterTerm","newFilterTerms","newFilterText","onSortOrderChange","sortOrder","shouldShowRecipe","searchCorpus","every","searchValue","hasAllFilterTerms","partition","excludeTerms","includeTerm","excludeTerm","substring","hasFilterText","order","componentDidMount","loadFilterTerms","recipesWorker","setItem","stringify","storeFilterTerms","noSort","recipesPerPage","displayableRecipes","SpiritsView","checkStatus","response","status","error","Error","statusText","parseJSON","json","fetchJson","url","fetch","then","App","onRecipesLoaded","aiRecipes","cacheDate","onStaleDataWarningDismiss","renderIndex","renderRecipes","params","pageSize","renderSpirits","renderBrands","renderBottles","renderAI","renderStaleDataWarning","Message","warning","floating","onDismiss","Icon","Content","Header","renderNav","pathname","Menu","size","fixed","as","Link","active","recipesUrl","aiRecipesUrl","wordsUrl","Promise","all","newData","oldData","Date","storeRecipesData","catch","Container","content","path","component","exact","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","process","document","getElementById","origin","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.4155638c.chunk.js","sourcesContent":["import React from 'react';\nimport Card from 'semantic-ui-react/dist/es/views/Card/Card';\nimport Pagination from 'semantic-ui-react/dist/es/addons/Pagination/Pagination';\n\nexport default class PaginatedCardGroup extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activePage: 1\n    };\n  }\n\n  onPageChange = (event, props) => {\n    const { activePage } = props;\n    this.setState({ activePage });\n  }\n\n  render() {\n    const { activePage } = this.state;\n    const { items, itemsPerPage, className } = this.props;\n\n    const totalPages = Math.ceil(items.length / itemsPerPage);\n    const pageStart = (activePage - 1) * itemsPerPage;\n    const pageEnd = pageStart + itemsPerPage;\n    const itemsOnPage = items.slice(pageStart, pageEnd);\n\n    return (\n      <div className={className}>\n        <div className=\"group\">\n          <Card.Group items={itemsOnPage} />\n        </div>\n        <div className=\"pagination\">\n          <Pagination\n            prevItem={null}\n            nextItem={null}\n            firstItem={null}\n            lastItem={null}\n            activePage={activePage}\n            onPageChange={this.onPageChange}\n            totalPages={totalPages}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Input from 'semantic-ui-react/dist/es/elements/Input/Input';\nimport debounce from 'lodash/debounce';\n\nconst ON_CHANGE_DEBOUNCE_MS = 250;\n\nexport default class SearchBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: props.defaultValue,\n    };\n\n    this._onChange = debounce(props.onChange, ON_CHANGE_DEBOUNCE_MS);\n  }\n\n  onChange = (event, props) => {\n    const { value } = props;\n\n    this.setState({ value }, () => this._onChange(value));\n  }\n\n  render() {\n    const { placeholder, className } = this.props;\n    const { value } = this.state;\n\n    return (\n      <div className={className}>\n        <Input\n          icon=\"search\"\n          value={value}\n          placeholder={placeholder}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n","export default class MultiMap {\n  constructor() {\n    this._map = {};\n  }\n\n  add(key, item) {\n    if (!this._map[key]) this._map[key] = [];\n    this._map[key].push(item);\n  }\n\n  get(key) {\n    return this._map[key] || [];\n  }\n\n  map(func) {\n    return Object.entries(this._map).map(func);\n  }\n}\n","export default {\n  recipesCacheWarning: 'Using cached recipes, last updated:',\n  recipesLoadError: 'Something went wrong while loading the recipes',\n  recipesSearchPlaceholder: 'Search for recipes...',\n  recipesSortByDate: 'Sort by date',\n  recipesSortByRating: 'Sort by rating',\n  meanRatingSupport: 'Cocktails',\n  meanRatingValue: 'Avg Rating',\n  brandsSearchPlaceholder: 'Search for brands...',\n  spiritsSearchPlaceholder: 'Search for spirits...',\n  bottlesSpiritSelectPlaceholder: 'Select spirit...',\n  bottlesSpiritAllEntries: '(All)',\n  menuEntryRecipes: 'Recipes',\n  menuEntrySpirits: 'Top Spirits',\n  menuEntryBrands: 'Top brands',\n  menuEntryBottles: 'Top bottles',\n  menuEntryAI: 'AI',\n};\n","import en from './en';\n\nexport default en;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Statistic from 'semantic-ui-react/dist/es/views/Statistic/Statistic';\nimport PaginatedCardGroup from './PaginatedCardGroup';\nimport SearchBar from './SearchBar';\nimport MultiMap from '../utils/MultiMap';\nimport mean from '../utils/mean';\nimport hashCode from '../utils/hashCode';\nimport i8n from '../i8n';\n\nconst colors = ['orange', 'yellow', 'olive', 'green', 'teal', 'blue', 'violet', 'purple', 'pink', 'brown'];\n\nconst randomColor = (name) => colors[Math.abs(hashCode(name)) % colors.length];\n\nconst toMeanCard = ({ name, mean, support }) => {\n  const color = randomColor(name);\n\n  return {\n    key: name,\n    header: name,\n    color,\n    description:\n      <Link to={`/recipes/${name}`}>\n        <Statistic.Group>\n          <Statistic label={i8n.meanRatingSupport} value={support} color={color} />\n          <Statistic label={i8n.meanRatingValue} value={mean.toFixed(2)} color={color} />\n        </Statistic.Group>\n      </Link>\n  };\n}\n\nconst toMean = (recipes, aggregations) => {\n  const aggregationToRatings = new MultiMap();\n  aggregations.forEach(aggregation =>\n    recipes.filter(recipe => recipe.Ingredients.toLowerCase().indexOf(aggregation.toLowerCase()) !== -1).forEach(recipe =>\n      aggregationToRatings.add(aggregation, recipe.Rating)));\n\n  return aggregationToRatings\n    .map(([name, ratings]) => ({ name, mean: mean(ratings), support: ratings.length }))\n    .sort((a, b) => Math.sign(b.mean - a.mean));\n}\n\nconst buildRatingsFilter = (filterText) => {\n  if (filterText.startsWith('#<')) {\n    const maxSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support < maxSupport;\n  }\n\n  if (filterText.startsWith('#>')) {\n    const minSupport = parseInt(filterText.substr(2), 10);\n    return ({ support }) => support > minSupport;\n  }\n\n  if (filterText.length > 0) {\n    const searchTerms = filterText.toLowerCase().split('||').map(searchTerm => searchTerm.trim());\n    return ({ name }) => searchTerms.some(searchTerm => name.toLowerCase().indexOf(searchTerm) !== -1);\n  }\n\n  return () => true;\n}\n\nexport default class AverageRatingsDisplay extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filterText: props.query || ''\n    };\n  }\n\n  onSearchTextChange = (filterText) => {\n    this.setState({ filterText });\n  }\n\n  render() {\n    const { aggregations, recipes, ratingsPerPage, searchPlaceholder } = this.props;\n    const { filterText } = this.state;\n\n    const ratingsFilter = buildRatingsFilter(filterText);\n    const meanRatings = toMean(recipes, aggregations).filter(ratingsFilter);\n\n    return (\n      <div>\n        <div className=\"brandControls\">\n          {searchPlaceholder &&\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={searchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />}\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={ratingsPerPage}\n          items={meanRatings.map(toMeanCard)}\n          key={meanRatings}\n        />\n      </div>\n    );\n  }\n}\n","export default function hashCode(str) {\n  let hash = 0;\n\n  if (str.length === 0) {\n    return hash;\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    let chr = str.charCodeAt(i);\n    hash  = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n\n  return hash;\n}\n","function sum(numbers) {\n  return numbers.reduce((prev, cur) => prev + cur, 0);\n}\n\nexport default function mean(numbers) {\n  return sum(numbers) / numbers.length;\n}\n","import React from 'react';\nimport Dropdown from 'semantic-ui-react/dist/es/modules/Dropdown/Dropdown';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nfunction matcherFor(spirits) {\n  return new RegExp(`\\\\s(${Array.from(spirits).join('|')})(\\\\s|$)`, 'i');\n}\n\nfunction getBottlesForSpirit(spirit, spirits, recipes) {\n  const spiritMatcher = !spirit ? matcherFor(spirits) : matcherFor([spirit]);\n\n  const bottles = new Set();\n\n  recipes.forEach(recipe =>\n    recipe.Ingredients\n      .split('\\n')\n      .filter(ingredient => ingredient.match(spiritMatcher) != null)\n      .map(ingredient => ingredient.replace(/\\([^)]*\\)/g, ''))\n      .map(ingredient => ingredient.replace(/^[^ ]*/, ''))\n      .map(ingredient => ingredient.trim())\n      .forEach(bottle => bottles.add(bottle)));\n\n  return Array.from(bottles).sort();\n}\n\nexport default class BottlesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedSpirit: props.query\n    };\n  }\n\n  onSpiritChange = (selectedSpirit) => this.setState({ selectedSpirit });\n\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n    const { selectedSpirit } = this.state;\n\n    return (\n      <div>\n        <div className=\"bottleControls\">\n          <SpiritsSelector\n            selectedSpirit={selectedSpirit}\n            spirits={words.spirits}\n            onChange={this.onSpiritChange}\n          />\n        </div>\n        <TopBottlesDisplay\n          spirit={selectedSpirit}\n          spirits={words.spirits}\n          recipes={recipes}\n          ratingsPerPage={ratingsPerPage}\n        />\n      </div>\n    );\n  }\n}\n\nclass SpiritsSelector extends React.PureComponent {\n  onChange = (e, { value }) => this.props.onChange(value);\n\n  render() {\n    const { spirits, selectedSpirit } = this.props;\n\n    const allOption = { text: i8n.bottlesSpiritAllEntries, value: '' };\n    const spiritOptions = Array.from(spirits).sort().map(spirit => ({ text: spirit, value: spirit }));\n    const options = [allOption].concat(spiritOptions);\n\n    return (\n      <Dropdown\n        search\n        selection\n        placeholder={i8n.bottlesSpiritSelectPlaceholder}\n        options={options}\n        onChange={this.onChange}\n        defaultValue={selectedSpirit}\n      />\n    );\n  }\n}\n\nclass TopBottlesDisplay extends React.PureComponent {\n  render() {\n    const { spirit, spirits, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={getBottlesForSpirit(spirit, spirits, recipes)}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class BrandsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.brands}\n        searchPlaceholder={i8n.brandsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport Checkbox from 'semantic-ui-react/dist/es/modules/Checkbox/Checkbox';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\n\nexport default class CheckBoxList extends React.PureComponent {\n  onToggle = (event, props) => {\n    this.props.onToggle(props.label);\n  }\n\n  render() {\n    const { items, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.label}>\n              <Checkbox\n                label={item.label}\n                checked={item.checked}\n                onChange={this.onToggle}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst textToLines = (text) => {\n  const lines = [];\n\n  text.split('\\n').forEach((line, i) => {\n    lines.push(<span key={`line-${i}`}>{line}</span>);\n    lines.push(<br key={`newline-${i}`} />);\n  });\n  lines.pop();\n\n  return lines;\n}\n\nexport default class MultilineText extends React.PureComponent {\n  render() {\n    const { text } = this.props;\n\n    return <div>{textToLines(text)}</div>;\n  }\n}\n","import React from 'react';\nimport List from 'semantic-ui-react/dist/es/elements/List/List';\nimport Radio from 'semantic-ui-react/dist/es/addons/Radio/Radio';\n\nexport default class RadioList extends React.PureComponent {\n  onChange = (event, props) => {\n    this.props.onChange(props.value);\n  }\n\n  render() {\n    const { items, checked, className } = this.props;\n\n    return (\n      <div className={className}>\n        <List horizontal>\n          {items.map(item =>\n            <List.Item key={item.value}>\n              <Radio\n                label={item.label}\n                value={item.value}\n                checked={checked === item.value}\n                onChange={this.onChange}\n              />\n            </List.Item>\n          )}\n        </List>\n      </div>\n    );\n  };\n}\n","import React from 'react';\nimport Rating from 'semantic-ui-react/dist/es/modules/Rating/Rating';\n\nconst maxRating = 5;\n\nexport default class StarRating extends React.PureComponent {\n  render() {\n    const { rating } = this.props;\n\n    return (\n      <Rating\n        icon='star'\n        defaultRating={rating}\n        maxRating={maxRating}\n        disabled\n      />\n    );\n  }\n}\n","export default class WebWorker {\n  constructor(worker) {\n    const code = worker.toString();\n    const blob = new Blob([`(${code})()`]);\n    return new Worker(URL.createObjectURL(blob));\n  }\n}\n","export default () => {\n  // FIXME: keep in sync with RecipesView.js until es6 imports are supported in web workers\n  const combineTokens = (sentence, combinedWords) => {\n    combinedWords.forEach(token => {\n      const regexp = new RegExp(token, 'gi');\n      sentence = sentence.replace(regexp, token.replace(/ /g, '_'));\n    });\n\n    return sentence;\n  };\n\n  // FIXME: keep in sync with RecipesView.js until es6 imports are supported in web workers\n  const splitTokens = (sentence) => sentence.replace(/_/g, ' ');\n\n  const buildCounter = (iterable) => {\n    const counter = {};\n\n    iterable.forEach(item => {\n      if (!counter[item]) {\n        counter[item] = 1;\n      } else {\n        counter[item]++;\n      }\n    });\n\n    return counter;\n  }\n\n  const Counter = (iterable) => {\n    const _counter = buildCounter(iterable);\n\n    return {\n      mostCommon: (num) => {\n        return Object.entries(_counter)\n          .sort((a, b) => b[1] - a[1])\n          .map(pair => pair[0])\n          .slice(0, num);\n      },\n    };\n  }\n\n  const hasAny = (token, words) => {\n    let found = false;\n\n    words.forEach(word => {\n      if (token.indexOf(word) !== -1) {\n        found = true;\n      }\n    });\n\n    return found;\n  }\n\n  const getFilterTerms = ({ recipes, numFilters, words }) => {\n    const combineWords = new Set();\n    words.combined.forEach(word => combineWords.add(word));\n    words.brands.forEach(word => combineWords.add(word));\n    words.spirits.forEach(word => combineWords.add(word));\n\n    const recipeWords = [];\n    recipes\n      .map(recipe => recipe.Ingredients)\n      .forEach(ingredients => {\n        ingredients\n          .split('\\n')\n          .filter(ingredient => !hasAny(ingredient, words.blacklist))\n          .forEach(ingredient => {\n            combineTokens(ingredient, combineWords)\n              .split(' ')\n              .map(word => word.replace(/\\([^)]*\\)/g, ''))\n              .map(word => splitTokens(word))\n              .map(word => word.replace(/[^a-zA-Z ]/g, ''))\n              .filter(word => word.length > 0)\n              .map(word => word.toLowerCase())\n              .filter(word => !hasAny(word, words.quantity))\n              .filter(word => !hasAny(word, words.ignored))\n              .forEach(word => recipeWords.push(word));\n        });\n      });\n\n    return Counter(recipeWords)\n      .mostCommon(numFilters)\n      .map(term => ({ term, enabled: false }));\n  }\n\n  self.addEventListener('message', event => { // eslint-disable-line no-restricted-globals\n    if (!event || !event.data.numFilters) {\n      return;\n    }\n\n    const filterTerms = getFilterTerms(event.data);\n\n    postMessage(filterTerms);\n  });\n}\n","const RECIPES_CACHE_KEY = 'recipesCache.recipes';\n\nconst FILTERTERMS_CACHE_KEY = 'recipesCache.filterTerms';\nconst FILTERTERMS_IS_DIRTY = 'recipesCache.filterTerms.dirty';\n\nconst IS_DIRTY = '1';\nconst NOT_DIRTY = '0';\n\nexport function storeFilterTerms(filterTerms) {\n  localStorage.setItem(FILTERTERMS_CACHE_KEY, JSON.stringify(filterTerms));\n  localStorage.setItem(FILTERTERMS_IS_DIRTY, NOT_DIRTY);\n}\n\nexport function loadFilterTerms() {\n  const cached = localStorage.getItem(FILTERTERMS_CACHE_KEY);\n  if (!cached) {\n    return null;\n  }\n\n  const isDirty = localStorage.getItem(FILTERTERMS_IS_DIRTY);\n  if (isDirty === IS_DIRTY) {\n    return null;\n  }\n\n  return JSON.parse(cached);\n}\n\nexport function storeRecipesData(newData) {\n  const oldData = loadRecipesData();\n\n  if (oldData?.recipes?.length === newData.recipes.length &&\n      oldData?.aiRecipes?.length === newData.aiRecipes.length &&\n      oldData?.words?.length === newData.words.length) {\n    return;\n  }\n\n  localStorage.setItem(RECIPES_CACHE_KEY, JSON.stringify({\n    recipes: newData.recipes,\n    aiRecipes: newData.aiRecipes,\n    words: newData.words,\n    cacheDate: new Date().toString(),\n  }));\n\n  localStorage.setItem(FILTERTERMS_IS_DIRTY, IS_DIRTY);\n}\n\nexport function loadRecipesData() {\n  const cached = localStorage.getItem(RECIPES_CACHE_KEY);\n  if (!cached) {\n    return null;\n  }\n\n  return JSON.parse(cached);\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport partition from 'lodash/partition';\nimport CheckBoxList from '../components/CheckBoxList';\nimport MultilineText from '../components/MultiLineText';\nimport PaginatedCardGroup from '../components/PaginatedCardGroup';\nimport RadioList from '../components/RadioList';\nimport SearchBar from '../components/SearchBar';\nimport StarRating from '../components/StarRating';\nimport WebWorker from '../workers/WebWorker';\nimport recipesWorker from '../workers/recipesWorker';\nimport { loadFilterTerms, storeFilterTerms } from '../utils/cache';\nimport i8n from '../i8n';\n\n// FIXME: keep in sync with recipesWorker.js until es6 imports are supported in web workers\nconst combineTokens = (sentence, combinedWords) => {\n  combinedWords.forEach(token => {\n    const regexp = new RegExp(token, 'gi');\n    sentence = sentence.replace(regexp, token.replace(/ /g, '_'));\n  });\n\n  return sentence;\n};\n\n// FIXME: keep in sync with recipesWorker.js until es6 imports are supported in web workers\nconst splitTokens = (sentence) => sentence.replace(/_/g, ' ');\n\nconst hasAllFilterTerms = (recipe, filterTerms) => {\n  if (!filterTerms.length) {\n    return true;\n  }\n\n  const searchCorpus = splitTokens(recipe.Ingredients).toLowerCase();\n\n  return filterTerms\n    .filter(filterTerm => filterTerm.enabled)\n    .map(filterTerm => filterTerm.term.toLowerCase())\n    .every(searchValue => searchCorpus.indexOf(searchValue) !== -1);\n}\n\nconst hasFilterText = (recipe, filterText, words) => {\n  if (!filterText) {\n    return true;\n  }\n\n  const searchCorpus = combineTokens(`${recipe.Name}\\n${recipe.Ingredients}`.toLowerCase(), words.combined);\n\n  const searchTerms = filterText\n    .split('&&')\n    .map(searchTerm => searchTerm.trim())\n    .map(searchTerm => searchTerm.toLowerCase());\n\n  const [ excludeTerms, includeTerms ] = partition(searchTerms, searchTerm => searchTerm.startsWith('!'));\n\n  return includeTerms.every(includeTerm => searchCorpus.indexOf(includeTerm) !== -1)\n      && excludeTerms.every(excludeTerm => searchCorpus.indexOf(excludeTerm.substring(1)) === -1);\n};\n\nconst sortOrders = [\n  {label: i8n.recipesSortByDate, value: \"date\"},\n  {label: i8n.recipesSortByRating, value: \"rating\", comparator: (recipeA, recipeB) => recipeB.Rating - recipeA.Rating},\n];\n\nconst recipeToCard = (recipe, i) => ({\n  key: `recipe-${i}-${recipe.Name}-${recipe.Ingredients}`,\n  header: recipe.Name,\n  description:\n    <Link to={`/${window.location.href.split('#')[1].split('/')[1]}/${recipe.Name}`}>\n      <MultilineText text={splitTokens(recipe.Ingredients)} />\n    </Link>,\n  meta: <StarRating rating={recipe.Rating} />\n});\n\nconst filterToCheckbox = (filter) => ({\n  label: filter.term,\n  checked: filter.enabled\n});\n\nexport default class RecipesView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortOrder: 'date',\n      filterText: props.query || '',\n      filterTerms: [],\n    };\n  }\n\n  onSearchTermToggle = (filterTerm) => {\n    const { filterTerms } = this.state;\n\n    const newFilterTerms = filterTerms\n      .map(({ term, enabled }) => term === filterTerm\n        ? ({ term, enabled: !enabled })\n        : ({ term, enabled }));\n\n    this.setState({ filterTerms: newFilterTerms });\n  }\n\n  onSearchTextChange = (filterText) => {\n    const { words } = this.props;\n\n    const newFilterText = combineTokens(filterText, words.combined);\n    this.setState({ filterText: newFilterText });\n  }\n\n  onSortOrderChange = (sortOrder) => {\n    this.setState({ sortOrder });\n  }\n\n  shouldShowRecipe = (recipe) => {\n    const { filterTerms, filterText } = this.state;\n    const { words } = this.props;\n\n    return hasAllFilterTerms(recipe, filterTerms) &&\n      hasFilterText(recipe, filterText, words);\n  }\n\n  sort = (recipes) => {\n    const { sortOrder } = this.state;\n\n    const comparator = sortOrders\n      .filter(order => order.value === sortOrder)\n      .map(order => order.comparator)[0];\n\n    if (comparator) {\n      recipes = recipes.sort(comparator);\n    }\n\n    return recipes;\n  }\n\n  componentDidMount() {\n    const filterTerms = loadFilterTerms();\n    if (filterTerms) {\n      this.setState({ filterTerms });\n      return;\n    }\n\n    const worker = new WebWorker(recipesWorker);\n    worker.postMessage(this.props);\n\n    worker.addEventListener('message', event => {\n      const filterTerms = event.data;\n      storeFilterTerms(filterTerms);\n      this.setState({ filterTerms });\n    });\n  }\n\n  render() {\n    const { noSort, numFilters, recipes, recipesPerPage } = this.props;\n    const { filterTerms, filterText, sortOrder } = this.state;\n\n    const displayableRecipes = this.sort(recipes.filter(this.shouldShowRecipe));\n\n    return (\n      <div>\n        <div className=\"recipeControls\">\n          {numFilters > 0 && <CheckBoxList\n            className=\"filters\"\n            items={filterTerms.map(filterToCheckbox)}\n            onToggle={this.onSearchTermToggle}\n          />}\n          <SearchBar\n            className=\"searchBar\"\n            defaultValue={filterText}\n            placeholder={i8n.recipesSearchPlaceholder}\n            onChange={this.onSearchTextChange}\n          />\n          {!noSort && <RadioList\n            className=\"sortOrder\"\n            items={sortOrders}\n            checked={sortOrder}\n            onChange={this.onSortOrderChange}\n          />}\n        </div>\n        <PaginatedCardGroup\n          className=\"paginatedCardGroup\"\n          itemsPerPage={recipesPerPage}\n          items={displayableRecipes.map(recipeToCard)}\n          key={displayableRecipes}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport AverageRatingsDisplay from '../components/AverageRatingsDisplay';\nimport i8n from '../i8n';\n\nexport default class SpiritsView extends React.PureComponent {\n  render() {\n    const { words, recipes, ratingsPerPage } = this.props;\n\n    return (\n      <AverageRatingsDisplay\n        aggregations={words.spirits}\n        searchPlaceholder={i8n.spiritsSearchPlaceholder}\n        recipes={recipes}\n        ratingsPerPage={ratingsPerPage}\n      />\n    );\n  }\n}\n","function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error.response = response;\n    throw error;\n  }\n}\n\nfunction parseJSON(response) {\n  return response.json()\n}\n\nexport default function fetchJson(url) {\n  return fetch(url)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n","import React from 'react';\nimport { HashRouter, Link, Redirect, Route, Switch } from 'react-router-dom';\nimport Container from 'semantic-ui-react/dist/es/elements/Container/Container';\nimport Icon from 'semantic-ui-react/dist/es/elements/Icon/Icon';\nimport Menu from 'semantic-ui-react/dist/es/collections/Menu/Menu';\nimport Message from 'semantic-ui-react/dist/es/collections/Message/Message';\nimport BottlesView from './views/BottlesView';\nimport BrandsView from './views/BrandsView';\nimport RecipesView from './views/RecipesView';\nimport SpiritsView from './views/SpiritsView';\nimport { storeRecipesData, loadRecipesData } from './utils/cache';\nimport fetchJson from './utils/fetchJson';\nimport i8n from './i8n';\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      recipes: [],\n      aiRecipes: [],\n      words: {},\n      cacheDate: '',\n    };\n  }\n\n  componentDidMount() {\n    const { recipesUrl, aiRecipesUrl, wordsUrl } = this.props;\n\n    Promise.all([\n      fetchJson(recipesUrl),\n      fetchJson(aiRecipesUrl),\n      fetchJson(wordsUrl),\n    ])\n      .then(([recipes, aiRecipes, words]) => {\n        this.onRecipesLoaded({ recipes, aiRecipes, words });\n        storeRecipesData({ recipes, aiRecipes, words });\n      })\n      .catch(error => {\n        const cached = loadRecipesData();\n        if (!cached) {\n          this.setState({ error });\n          return;\n        }\n\n        const { recipes, aiRecipes, words, cacheDate } = cached;\n        this.onRecipesLoaded({ recipes, aiRecipes, words }, cacheDate);\n      });\n  }\n\n  onRecipesLoaded = ({ recipes, aiRecipes, words }, cacheDate) => {\n    this.setState({\n      recipes,\n      aiRecipes,\n      words: {\n        combined: new Set(words.combined || []),\n        blacklist: new Set(words.blacklist || []),\n        quantity: new Set(words.quantity || []),\n        brands: new Set(words.brands || []),\n        ignored: new Set(words.ignored || []),\n        spirits: new Set(words.spirits || []),\n      },\n      cacheDate,\n    });\n  }\n\n  onStaleDataWarningDismiss = () => {\n    this.setState({ cacheDate: '' });\n  }\n\n  renderIndex = (props) =>\n    <Redirect to=\"/recipes\" />\n\n  renderRecipes = (props) =>\n    <RecipesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      recipesPerPage={this.props.pageSize}\n      numFilters={this.props.numFilters}\n      key={props.match.params.query}\n    />\n\n  renderSpirits = (props) =>\n    <SpiritsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBrands = (props) =>\n    <BrandsView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderBottles = (props) =>\n    <BottlesView\n      recipes={this.state.recipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      ratingsPerPage={this.props.pageSize}\n    />\n\n  renderAI = (props) =>\n    <RecipesView\n      recipes={this.state.aiRecipes}\n      words={this.state.words}\n      query={props.match.params.query}\n      recipesPerPage={this.props.pageSize}\n      key={props.match.params.query}\n      noSort\n    />\n\n  renderStaleDataWarning = (props) => {\n    const { cacheDate } = props;\n    if (!cacheDate) {\n      return null;\n    }\n\n    return (\n      <Message warning floating icon onDismiss={this.onStaleDataWarningDismiss} className=\"messageTop\">\n        <Icon name=\"plug\" />\n        <Message.Content>\n          <Message.Header>{i8n.recipesLoadError}</Message.Header>\n          {i8n.recipesCacheWarning} {cacheDate}\n        </Message.Content>\n      </Message>\n    );\n  }\n\n  renderNav = (props) => {\n    const location = props.location.pathname;\n\n    return (\n      <Menu icon=\"labeled\" size=\"mini\" fixed=\"bottom\">\n        <Menu.Item as={Link} to=\"/recipes\" active={location.startsWith('/recipes')}>\n          <Icon name=\"cocktail\" />\n          {i8n.menuEntryRecipes}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/spirits\" active={location.startsWith('/spirits')}>\n          <Icon name=\"bar chart\" />\n          {i8n.menuEntrySpirits}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/brands\" active={location.startsWith('/brands')}>\n          <Icon name=\"line chart\" />\n          {i8n.menuEntryBrands}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/bottles\" active={location.startsWith('/bottles')}>\n          <Icon name=\"winner\" />\n          {i8n.menuEntryBottles}\n        </Menu.Item>\n        <Menu.Item as={Link} to=\"/ai\" active={location.startsWith('/ai')}>\n          <Icon name=\"flask\" />\n          {i8n.menuEntryAI}\n        </Menu.Item>\n      </Menu>\n    );\n  }\n\n  render() {\n    const { error, recipes, cacheDate } = this.state;\n\n    if (error) {\n      return (\n        <Container>\n          <Message error content={i8n.recipesLoadError} className=\"messageTop\" />\n        </Container>\n      );\n    }\n\n    if (recipes.length === 0) {\n      return null;\n    }\n\n    return (\n      <HashRouter>\n        <Container>\n          {this.renderStaleDataWarning({ cacheDate })}\n          <Route path=\"*\" component={this.renderNav} />\n          <Switch>\n            <Route exact path=\"/\" component={this.renderIndex} />\n            <Route exact path=\"/recipes/:query?\" render={this.renderRecipes} />\n            <Route exact path=\"/spirits/:query?\" render={this.renderSpirits} />\n            <Route exact path=\"/brands/:query?\" render={this.renderBrands} />\n            <Route exact path=\"/bottles/:query?\" render={this.renderBottles} />\n            <Route exact path=\"/ai/:query?\" render={this.renderAI} />\n          </Switch>\n        </Container>\n      </HashRouter>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App\n    recipesUrl={process.env.REACT_APP_RECIPES_URL}\n    aiRecipesUrl={process.env.REACT_APP_AI_RECIPES_URL}\n    wordsUrl={process.env.REACT_APP_WORDS_URL}\n    pageSize={parseInt(process.env.REACT_APP_PAGE_SIZE, 10)}\n    numFilters={parseInt(process.env.REACT_APP_NUM_FILTERS, 10)}\n  />,\n  document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}